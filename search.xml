<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>logging的使用</title>
      <link href="/2019/07/04/logging%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2019/07/04/logging%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h5 id="A-simple-example"><a href="#A-simple-example" class="headerlink" title="A simple example"></a>A simple example</h5><ul><li>the default log of level is WARNING<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line">logging.warning(<span class="string">'Watch out!'</span>)  <span class="comment"># will print a message to the console</span></span><br><span class="line">logging.info(<span class="string">'I told you so'</span>)  <span class="comment"># will not print anything</span></span><br></pre></td></tr></table></figure></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WARNING:root:Watch out!</span><br></pre></td></tr></table></figure><h5 id="Logging-to-a-file"><a href="#Logging-to-a-file" class="headerlink" title="Logging to a file"></a>Logging to a file</h5><blockquote><p>主要说明如何将日志打印到文件中,以及如何刷新日志(不保留原有的日志). </p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="comment"># set filename and log level</span></span><br><span class="line">logging.basicConfig(filename=<span class="string">'example.log'</span>,level=logging.DEBUG)</span><br><span class="line"><span class="comment"># If you want each run to start afresh, not remembering the messages from earlier runs, you can specify the filemode argument, </span></span><br><span class="line"><span class="comment"># logging.basicConfig(filename='example.log', filemode='w', level=logging.DEBUG)</span></span><br><span class="line">logging.debug(<span class="string">'This message should go to the log file'</span>)</span><br><span class="line">logging.info(<span class="string">'So should this'</span>)</span><br><span class="line">logging.warning(<span class="string">'And this, too'</span>)</span><br></pre></td></tr></table></figure><h5 id="Logging-variable-data"><a href="#Logging-variable-data" class="headerlink" title="Logging variable data"></a>Logging variable data</h5><blockquote><p>主要说明日志输出是可以使用变量的</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line">logging.warning(<span class="string">'%s before you %s'</span>, <span class="string">'Look'</span>, <span class="string">'leap!'</span>)</span><br></pre></td></tr></table></figure><h5 id="Changing-the-format-of-displayed-messages"><a href="#Changing-the-format-of-displayed-messages" class="headerlink" title="Changing the format of displayed messages"></a>Changing the format of displayed messages</h5><blockquote><p>主要说明如何改变日志输出格式以及是时间输出格式如何改变</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="comment"># you can use 'format=' to formulate what you want output</span></span><br><span class="line">logging.basicConfig(format=<span class="string">'%(levelname)s:%(message)s'</span>, level=logging.DEBUG)</span><br><span class="line">logging.debug(<span class="string">'This message should appear on the console'</span>)</span><br><span class="line">logging.info(<span class="string">'So should this'</span>)</span><br><span class="line">logging.warning(<span class="string">'And this, too'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># detefmt can formulate format of date</span></span><br><span class="line">logging.basicConfig(format=<span class="string">'%(asctime)s %(message)s'</span>, datefmt=<span class="string">'%m/%d/%Y %I:%M:%S %p'</span>)</span><br><span class="line">logging.warning(<span class="string">'is when this event was logged.'</span>)</span><br></pre></td></tr></table></figure><h5 id="Configuring-Logging"><a href="#Configuring-Logging" class="headerlink" title="Configuring Logging"></a>Configuring Logging</h5><blockquote><p>主要说明日志如何新建日志的实例对象以及如何配置日志文件</p></blockquote><h6 id="建立日志对象"><a href="#建立日志对象" class="headerlink" title="建立日志对象"></a>建立日志对象</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="comment"># create logger</span></span><br><span class="line">logger = logging.getLogger(<span class="string">'simple_example'</span>)</span><br><span class="line">logger.setLevel(logging.DEBUG)</span><br><span class="line"></span><br><span class="line"><span class="comment"># create console handler and set level to debug</span></span><br><span class="line">ch = logging.StreamHandler()</span><br><span class="line">ch.setLevel(logging.DEBUG)</span><br><span class="line"></span><br><span class="line"><span class="comment"># create formatter</span></span><br><span class="line">formatter = logging.Formatter(<span class="string">'%(asctime)s - %(name)s - %(levelname)s - %(message)s'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add formatter to ch</span></span><br><span class="line">ch.setFormatter(formatter)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add ch to logger</span></span><br><span class="line">logger.addHandler(ch)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 'application' code</span></span><br><span class="line">logger.debug(<span class="string">'debug message'</span>)</span><br><span class="line">logger.info(<span class="string">'info message'</span>)</span><br><span class="line">logger.warn(<span class="string">'warn message'</span>)</span><br><span class="line">logger.error(<span class="string">'error message'</span>)</span><br><span class="line">logger.critical(<span class="string">'critical message'</span>)</span><br></pre></td></tr></table></figure><h6 id="建立日志对象并且读取日志配置文件"><a href="#建立日志对象并且读取日志配置文件" class="headerlink" title="建立日志对象并且读取日志配置文件"></a>建立日志对象并且读取日志配置文件</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> logging.config</span><br><span class="line"></span><br><span class="line">logging.config.fileConfig(<span class="string">'logging.conf'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># create logger</span></span><br><span class="line">logger = logging.getLogger(<span class="string">'simpleExample'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 'application' code</span></span><br><span class="line">logger.debug(<span class="string">'debug message'</span>)</span><br><span class="line">logger.info(<span class="string">'info message'</span>)</span><br><span class="line">logger.warn(<span class="string">'warn message'</span>)</span><br><span class="line">logger.error(<span class="string">'error message'</span>)</span><br><span class="line">logger.critical(<span class="string">'critical message'</span>)</span><br></pre></td></tr></table></figure><p><strong>logging.conf</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[loggers]</span><br><span class="line">keys=root,simpleExample</span><br><span class="line"></span><br><span class="line">[handlers]</span><br><span class="line">keys=consoleHandler</span><br><span class="line"></span><br><span class="line">[formatters]</span><br><span class="line">keys=simpleFormatter</span><br><span class="line"></span><br><span class="line">[logger_root]</span><br><span class="line">level=DEBUG</span><br><span class="line">handlers=consoleHandler</span><br><span class="line"></span><br><span class="line">[logger_simpleExample]</span><br><span class="line">level=DEBUG</span><br><span class="line">handlers=consoleHandler</span><br><span class="line">qualname=simpleExample</span><br><span class="line">propagate=0</span><br><span class="line"></span><br><span class="line">[handler_consoleHandler]</span><br><span class="line">class=StreamHandler</span><br><span class="line">level=DEBUG</span><br><span class="line">formatter=simpleFormatter</span><br><span class="line">args=(sys.stdout,)</span><br><span class="line"></span><br><span class="line">[formatter_simpleFormatter]</span><br><span class="line">format=%(asctime)s - %(name)s - %(levelname)s - %(message)s</span><br><span class="line">datefmt=</span><br></pre></td></tr></table></figure><p><strong>another logging.conf</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">[loggers]</span><br><span class="line">keys=root,simple</span><br><span class="line"></span><br><span class="line">[handlers]</span><br><span class="line">keys=consoleHandler,fileHandler,rotatingFileHandler</span><br><span class="line"></span><br><span class="line">[formatters]</span><br><span class="line">keys=simpleFmt</span><br><span class="line"></span><br><span class="line">[logger_root]</span><br><span class="line">level=DEBUG</span><br><span class="line">handlers=consoleHandler</span><br><span class="line"># handlers=fileHandler</span><br><span class="line"># handlers=rotatingFileHandler</span><br><span class="line"></span><br><span class="line">[logger_simple]</span><br><span class="line">level=DEBUG</span><br><span class="line">handlers=consoleHandler,fileHandler</span><br><span class="line">qualname=simple</span><br><span class="line">propagate=0</span><br><span class="line"></span><br><span class="line">[handler_consoleHandler]</span><br><span class="line">class=StreamHandler</span><br><span class="line">level=DEBUG</span><br><span class="line">formatter=simpleFmt</span><br><span class="line">args=(sys.stdout,)</span><br><span class="line"></span><br><span class="line">[handler_fileHandler]</span><br><span class="line">class=FileHandler</span><br><span class="line">level=DEBUG</span><br><span class="line">formatter=simpleFmt</span><br><span class="line">args=(&apos;test.log&apos;, &apos;w&apos;)</span><br><span class="line"></span><br><span class="line">[handler_rotatingFileHandler]</span><br><span class="line">class=handlers.RotatingFileHandler</span><br><span class="line">level=DEBUG</span><br><span class="line">formatter=simpleFmt</span><br><span class="line">args=(&quot;python.log&quot;, &quot;a&quot;, 20*1024*1024, 10)</span><br><span class="line"></span><br><span class="line">[formatter_simpleFmt]</span><br><span class="line">format=%(asctime)s - %(name)s - %(levelname)s - %(message)s - [%(filename)s:%(lineno)s]</span><br><span class="line">datefmt=</span><br></pre></td></tr></table></figure><table><thead><tr><th>Level</th><th>Numeric value</th></tr></thead><tbody><tr><td>CRITICAL</td><td>50</td></tr><tr><td>ERROR</td><td>40</td></tr><tr><td>WARNING</td><td>30</td></tr><tr><td>INFO</td><td>20</td></tr><tr><td>DEBUG</td><td>10</td></tr><tr><td>NOTSET</td><td>0</td></tr></tbody></table><table><thead><tr><th>Format</th><th>Description</th></tr></thead><tbody><tr><td>%(levelno)s</td><td>打印日志级别的数值</td></tr><tr><td>%(levelname)s</td><td>打印日志级别名称</td></tr><tr><td>%(pathname)s</td><td>打印当前执行程序的路径，其实就是sys.argv[0]</td></tr><tr><td>%(filename)s</td><td>打印当前执行程序名</td></tr><tr><td>%(funcName)s</td><td>打印日志的当前函数</td></tr><tr><td>%(lineno)d</td><td>打印日志的当前行号</td></tr><tr><td>%(asctime)s</td><td>打印日志的时间</td></tr><tr><td>%(thread)d</td><td>打印线程ID</td></tr><tr><td>%(threadName)s</td><td>打印线程名称</td></tr><tr><td>%(process)d</td><td>打印进程ID</td></tr><tr><td>%(message)s</td><td>打印日志信息</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于tcp客户端</title>
      <link href="/2019/07/04/%E5%85%B3%E4%BA%8Etcp%E5%AE%A2%E6%88%B7%E7%AB%AF/"/>
      <url>/2019/07/04/%E5%85%B3%E4%BA%8Etcp%E5%AE%A2%E6%88%B7%E7%AB%AF/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="关于tcp客户端"><a href="#关于tcp客户端" class="headerlink" title="关于tcp客户端"></a>关于tcp客户端</h3><h4 id="请求代码"><a href="#请求代码" class="headerlink" title="请求代码"></a>请求代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">发送一个TCP请求总是需要</span></span><br><span class="line"><span class="string">1. 建立client</span></span><br><span class="line"><span class="string">2. 建立链接</span></span><br><span class="line"><span class="string">3. 发送数据</span></span><br><span class="line"><span class="string">4. 接收数据</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">target_host = <span class="string">'www.baidu.com'</span></span><br><span class="line">target_port = <span class="string">'80'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 建立一个socket对象</span></span><br><span class="line"><span class="comment"># AF_INET参数说明我们将使用标准的IPv4或者主机名</span></span><br><span class="line"><span class="comment"># SOCK_STREAM说明这将是一个TCP客户端</span></span><br><span class="line">client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 连接客户端</span></span><br><span class="line">client.connect((target_host, target_port))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 发送一些数据</span></span><br><span class="line">client.send(<span class="string">'GET / HTTP/1.1\r\nHost:baidu.com\r\n\r\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 接受一些数据</span></span><br><span class="line">response = client.recv(<span class="number">4096</span>)</span><br><span class="line"></span><br><span class="line">print(response)</span><br></pre></td></tr></table></figure><h4 id="响应代码"><a href="#响应代码" class="headerlink" title="响应代码"></a>响应代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Accept-Ranges: bytes</span><br><span class="line">Cache-Control: no-cache</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Content-Length: 14615</span><br><span class="line">Content-Type: text/html</span><br><span class="line">Date: Thu, 28 Jun 2018 07:58:23 GMT</span><br><span class="line">Last-Modified: Mon, 11 Jun 2018 11:19:00 GMT</span><br><span class="line">P3p: CP=&quot; OTI DSP COR IVA OUR IND COM &quot;</span><br><span class="line">Pragma: no-cache</span><br><span class="line">Server: BWS/1.1</span><br><span class="line">Set-Cookie: BAIDUID=8D8D1B1785F34A55393458806C4E7D3B:FG=1; expires=Thu, 31-Dec-37 23:55:55 GMT; max-age=2147483647; path=/; domain=.baidu.com</span><br><span class="line">Set-Cookie: BIDUPSID=8D8D1B1785F34A55393458806C4E7D3B; expires=Thu, 31-Dec-37 23:55:55 GMT; max-age=2147483647; path=/; domain=.baidu.com</span><br><span class="line">Set-Cookie: PSTM=1530172703; expires=Thu, 31-Dec-37 23:55:55 GMT; max-age=2147483647; path=/; domain=.baidu.com</span><br><span class="line">Vary: Accept-Encoding</span><br><span class="line">X-Ua-Compatible: IE=Edge,chrome=1</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html;charset=utf-8&quot;&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=Edge&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//s1.bdstatic.com&quot;/&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//t1.baidu.com&quot;/&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//t2.baidu.com&quot;/&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//t3.baidu.com&quot;/&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//t10.baidu.com&quot;/&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//t11.baidu.com&quot;/&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//t12.baidu.com&quot;/&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//b1.bdstatic.com&quot;/&gt;</span><br><span class="line">&lt;title&gt;百度一下，你就知道&lt;/title&gt;</span><br><span class="line">&lt;link href=&quot;http://s1.bdstatic.com/r/www/cache/static/home/css/in</span><br></pre></td></tr></table></figure><hr><h4 id="bug说明"><a href="#bug说明" class="headerlink" title="bug说明"></a>bug说明</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SyntaxError: Non-ASCII character &apos;\xe5&apos; in file kNN.py on line 24, but no encoding declared; see http://python.org/dev/peps/pep-0263/ for details</span><br></pre></td></tr></table></figure><p>出现问题的原因：<br>Python默认是以ASCII作为编码方式的，如果在自己的Python源码中包含了中文（或者其他非英语系的语言），此时即使你把自己编写的Python源文件以UTF-8格式保存了，但实际上，这依然是不行的。<br>解决办法很简单，只要在文件开头加入下面代码就行了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: UTF-8 -*-</span><br></pre></td></tr></table></figure><hr><h4 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h4><h5 id="关于请求的解释"><a href="#关于请求的解释" class="headerlink" title="关于请求的解释"></a>关于请求的解释</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET / HTTP/1.1</span><br><span class="line">Host: www.baidu.com</span><br></pre></td></tr></table></figure><ul><li>首先有一个动词，我们叫HTTP Method，常见的有GET,POST,PUT,DELETE,OPTIONS,HEAD，不常见的有TRACE,CONNECT。</li><li>然后一个空格，后面接了一个/，表示我们请求这个站点的根目录，或者根网页。</li><li>再之后是HTTP/1.1，这是HTTP协议的版本号， 根据RFC说明，HTTP协议的版本号要支持多位数字的比较，而不能直接用ASCII比较，例如HTTP/11.22要比HTTP/2.1更大， 且版本号是HTTP/<major>.<minor>的方式，major是大版本，minor是小版本，例如:HTTP/0.9,HTTP/1.1,HTTP/2.0。</minor></major></li><li>然后是换行符。</li><li>在此之后，是Host: <a href="http://www.baidu.com，这叫virtual" target="_blank" rel="noopener">www.baidu.com，这叫virtual</a> host，是HTTP协议为了支持同一个IP上服务多个网站而来的，服务器通过判断 这个字段里的内容来将一个请求打到不同的内容服务器上。</li><li>在之后是两个换行符。<blockquote><p>请注意，HTTP协议中的换行，是\r\n，所以上面这个请求，把换行符和空格打出来，实际上是这样的：</p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET&lt;space&gt;/&lt;space&gt;HTTP/1.1\r\nHost:&lt;space&gt;www.baidu.com\r\n\r\n</span><br></pre></td></tr></table></figure><ul><li>两个\r\n表示HTTP协议内容头部的结束，正文的开始，当然也可以不接正文。正文也是各种各样的字符串，那么问题来了，服务器怎么知道 客户端请求里带的是什么内容呢？所以有一个头部叫做Content-Type，他就是用来表明此次携带的内容类型是什么，例如：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GET / HTTP/1.1</span><br><span class="line">Host: www.baidu.com</span><br><span class="line">Content-Type: text/html</span><br></pre></td></tr></table></figure></li></ul><hr>]]></content>
      
      
      <categories>
          
          <category> 网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>markdown使用方法</title>
      <link href="/2019/07/04/markdown%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/"/>
      <url>/2019/07/04/markdown%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="1-书写数学公式"><a href="#1-书写数学公式" class="headerlink" title="1. 书写数学公式"></a>1. <strong>书写数学公式</strong></h2><p><img src="https://note.youdao.com/favicon.ico" alt="image"><br><img src="http://note.youdao.com/iyoudao/wp-content/uploads/2016/09/%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F.png" alt="image"></p><h4 id="1-希腊字母"><a href="#1-希腊字母" class="headerlink" title="1. 希腊字母"></a>1. 希腊字母</h4><p><code>$ $</code></p><table><thead><tr><th>语法</th><th>符号</th></tr></thead><tbody><tr><td>\alpha</td><td><code>$ \alpha $</code></td></tr><tr><td>\beta</td><td><code>$ \beta $</code></td></tr><tr><td>\gamma</td><td><code>$ \gamma $</code></td></tr><tr><td>\Gamma</td><td><code>$ \Gamma $</code></td></tr><tr><td>\delta</td><td><code>$ \delta $</code></td></tr><tr><td>\epsilon</td><td><code>$ \epsilon $</code></td></tr><tr><td>\varepsilon</td><td><code>$ \varepsilon $</code></td></tr><tr><td>\zeta</td><td><code>$ \zeta $</code></td></tr><tr><td>\eta</td><td><code>$ \eta $</code></td></tr><tr><td>\theta</td><td><code>$ \theta $</code></td></tr><tr><td>\Theta</td><td><code>$ \Theta $</code></td></tr><tr><td>\vartheta</td><td><code>$ \vartheta $</code></td></tr><tr><td>\iota</td><td><code>$ \iota $</code></td></tr><tr><td>\kappa</td><td><code>$ \kappa $</code></td></tr><tr><td>\lambda</td><td><code>$ \lambda $</code></td></tr><tr><td>\Lambda</td><td><code>$ \Lambda $</code></td></tr><tr><td>\mu</td><td><code>$ \mu $</code></td></tr><tr><td>\nu</td><td><code>$ \nu $</code></td></tr><tr><td>\xi</td><td><code>$ \xi $</code></td></tr><tr><td>\Xi</td><td><code>$ \Xi $</code></td></tr><tr><td>\pi</td><td><code>$ \pi $</code></td></tr><tr><td>\Pi</td><td><code>$ \Pi $</code></td></tr><tr><td>\varpi</td><td><code>$ \varpi $</code></td></tr><tr><td>\rho</td><td><code>$ \rho $</code></td></tr><tr><td>\varrho</td><td><code>$ \varrho $</code></td></tr><tr><td>\sigma</td><td><code>$ \sigma $</code></td></tr><tr><td>\Sigma</td><td><code>$ \Sigma $</code></td></tr><tr><td>\varsigma</td><td><code>$ \varsigma $</code></td></tr><tr><td>\tau</td><td><code>$ \tau $</code></td></tr><tr><td>\upsilon</td><td><code>$ \upsilon $</code></td></tr><tr><td>\Upsilon</td><td><code>$ \Upsilon $</code></td></tr><tr><td>\phi</td><td><code>$ \phi $</code></td></tr><tr><td>\Phi</td><td><code>$ \Phi $</code></td></tr><tr><td>\varphi</td><td><code>$ \varphi $</code></td></tr><tr><td>\chi</td><td><code>$ \chi $</code></td></tr><tr><td>\psi</td><td><code>$ \psi $</code></td></tr><tr><td>\Psi</td><td><code>$ \Psi $</code></td></tr><tr><td>\Omega</td><td><code>$ \Omega $</code></td></tr><tr><td>\omega</td><td><code>$ \omega $</code></td></tr></tbody></table><h4 id="2"><a href="#2" class="headerlink" title="2"></a>2</h4><table><thead><tr><th>语法</th><th>符号</th></tr></thead><tbody><tr><td>\vec{a}</td><td><code>$\vec{a}$</code></td></tr><tr><td>\overline{a</td><td><code>$\overline{a}$</code></td></tr><tr><td>\widehat{a}</td><td><code>$\widehat{a}$</code></td></tr><tr><td>\widetilde{a}</td><td><code>$\widetilde{a}$</code></td></tr><tr><td>\dot{a}</td><td><code>$\dot{a}$</code></td></tr><tr><td>\ddot{a}</td><td><code>$\ddot{a}$</code></td></tr></tbody></table><h4 id="3-符号"><a href="#3-符号" class="headerlink" title="3 符号"></a>3 符号</h4>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>配置zsh</title>
      <link href="/2019/07/04/%E9%85%8D%E7%BD%AEzsh/"/>
      <url>/2019/07/04/%E9%85%8D%E7%BD%AEzsh/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a><a href="https://a1049145827.github.io/2018/11/12/Ubuntu-16-04%E4%B8%8B%E5%AE%89%E8%A3%85zsh%E5%92%8Coh-my-zsh/" target="_blank" rel="noopener">Linux</a></h3><p>安装及配置 zsh<br>1、安装zsh</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install zsh</span><br></pre></td></tr></table></figure><p>2、把默认的 Shell 改成 zsh</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chsh -s /bin/zsh</span><br></pre></td></tr></table></figure><p>注意：不要使用 sudo。</p><p>3、安装 Git</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install git</span><br></pre></td></tr></table></figure><p>4、安装 oh-my-zsh</p><p>为什么要安装，用于快速配置 zsh。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 操作系统 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis简介</title>
      <link href="/2019/07/04/Redis%E7%AE%80%E4%BB%8B/"/>
      <url>/2019/07/04/Redis%E7%AE%80%E4%BB%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="Redis-简介"><a href="#Redis-简介" class="headerlink" title="Redis 简介"></a>Redis 简介</h3><p>Redis 是完全开源免费的，遵守BSD协议，是一个高性能的key-value数据库。</p><p>Redis 与其他 key - value 缓存产品有以下三个特点：</p><ul><li>Redis支持数据的持久化，可以将内存中的数据保存在磁盘中，重启的时候可以再次加载进行使用。</li><li>Redis不仅仅支持简单的key-value类型的数据，同时还提供list，set，zset，hash等数据结构的存储。</li><li>Redis支持数据的备份，即master-slave模式的数据备份。</li></ul><h3 id="Redis-优势"><a href="#Redis-优势" class="headerlink" title="Redis 优势"></a>Redis 优势</h3><ul><li>性能极高 – Redis能读的速度是110000次/s,写的速度是81000次/s 。</li><li>丰富的数据类型 – Redis支持二进制案例的 Strings, Lists, Hashes, Sets 及 Ordered Sets 数据类型操作。</li><li>原子 – Redis的所有操作都是原子性的，意思就是要么成功执行要么失败完全不执行。单个操作是原子性的。多个操作也支持事务，即原子性，通过MULTI和EXEC指令包起来。</li><li>丰富的特性 – Redis还支持 publish/subscribe, 通知, key 过期等等特性。</li></ul><p>Redis与其他key-value存储有什么不同？</p><ul><li>Redis有着更为复杂的数据结构并且提供对他们的原子性操作，这是一个不同于其他数据库的进化路径。Redis的数据类型都是基于基本数据结构的同时对程序员透明，无需进行额外的抽象。</li><li>Redis运行在内存中但是可以持久化到磁盘，所以在对不同数据集进行高速读写时需要权衡内存，因为数据量不能大于硬件内存。在内存数据库方面的另一个优点是，相比在磁盘上相同的复杂的数据结构，在内存中操作起来非常简单，这样Redis可以做很多内部复杂性很强的事情。同时，在磁盘格式方面他们是紧凑的以追加的方式产生的，因为他们并不需要进行随机访问。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mongodb关于用户的操作</title>
      <link href="/2019/07/04/mongodb%E5%85%B3%E4%BA%8E%E7%94%A8%E6%88%B7%E7%9A%84%E6%93%8D%E4%BD%9C/"/>
      <url>/2019/07/04/mongodb%E5%85%B3%E4%BA%8E%E7%94%A8%E6%88%B7%E7%9A%84%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h4 id="用户认证"><a href="#用户认证" class="headerlink" title="用户认证"></a>用户认证</h4><p>在使用的时候如果遇到没有权限使用这个数据库,说明你的用户没有权限,所以需要一个用户认证,认证这个用户拥有这个权限</p><blockquote><p>注意:帐号是跟着库走的，所以在指定库里授权，必须也在指定库里验证(auth)。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; use admin</span><br><span class="line">&gt; db.auth(&apos;vallzey&apos;,&apos;密码&apos;)</span><br></pre></td></tr></table></figure><h4 id="查看这个数据库下的所有用户"><a href="#查看这个数据库下的所有用户" class="headerlink" title="查看这个数据库下的所有用户"></a>查看这个数据库下的所有用户</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt; show users</span><br><span class="line">&#123;</span><br><span class="line">&quot;_id&quot; : &quot;admin.vallzey&quot;,</span><br><span class="line">&quot;user&quot; : &quot;vallzey&quot;,</span><br><span class="line">&quot;db&quot; : &quot;admin&quot;,</span><br><span class="line">&quot;roles&quot; : [</span><br><span class="line">&#123;</span><br><span class="line">&quot;role&quot; : &quot;userAdminAnyDatabase&quot;,</span><br><span class="line">&quot;db&quot; : &quot;admin&quot;</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="创建对应数据库的用户"><a href="#创建对应数据库的用户" class="headerlink" title="创建对应数据库的用户"></a>创建对应数据库的用户</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">db.createUser(</span><br><span class="line">... &#123;</span><br><span class="line">... user:&quot;testad&quot;,</span><br><span class="line">... pwd:&quot;test&quot;,</span><br><span class="line">... roles:[&#123;role:&quot;dbAdmin&quot;,db:&quot;test&quot;&#125;]</span><br><span class="line">... &#125;</span><br><span class="line">... )</span><br></pre></td></tr></table></figure><p>roles:[{role:”readWrite”,db:”test”}]的意思是对对应的数据库创建对应的权限</p><h4 id="对用户进行授权"><a href="#对用户进行授权" class="headerlink" title="对用户进行授权"></a>对用户进行授权</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.grantRolesToUser(&apos;testad&apos;,[&#123;role:&quot;readWrite&quot;,db:&quot;test&quot;&#125;])</span><br></pre></td></tr></table></figure><h4 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.dropUser(&apos;test&apos;)</span><br><span class="line">true</span><br></pre></td></tr></table></figure><h4 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h4><p>删除数据库要在对应的数据库中,而且该用户具有相应的用户权限</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.dropDatabase()</span><br><span class="line">&#123; &quot;dropped&quot; : &quot;runoob&quot;, &quot;ok&quot; : 1 &#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>角色类型</th><th>角色名</th></tr></thead><tbody><tr><td>数据库用户角色</td><td>read、readWrite</td></tr><tr><td>数据库管理角色</td><td>dbAdmin、dbOwner、userAdmin</td></tr><tr><td>集群管理角色</td><td>clusterAdmin、clusterManager、clusterMonitor、hostManager</td></tr><tr><td>备份恢复角色</td><td>backup、restore</td></tr><tr><td>所有数据库角色</td><td>readAnyDatabase、readWriteAnyDatabase、userAdminAnyDatabase、dbAdminAnyDatabase</td></tr><tr><td>超级用户角色</td><td>root (dbOwner 、userAdmin、userAdminAnyDatabase)</td></tr><tr><td>内部角色</td><td>__system</td></tr></tbody></table><table><thead><tr><th>角色名</th><th>角色权限</th></tr></thead><tbody><tr><td>Read</td><td>允许用户读取指定数据库</td></tr><tr><td>readWrite</td><td>允许用户读写指定数据库</td></tr><tr><td>dbAdmin</td><td>允许用户在指定数据库中执行管理函数，如索引创建、删除，查看统计或访问system.profile</td></tr><tr><td>userAdmin</td><td>允许用户向system.users集合写入，可以找指定数据库里创建、删除和管理用户</td></tr><tr><td>clusterAdmin</td><td>只在admin数据库中可用，赋予用户所有分片和复制集相关函数的管理权限</td></tr><tr><td>readAnyDatabase</td><td>只在admin数据库中可用，赋予用户所有数据库的读权限</td></tr><tr><td>readWriteAnyDatabase</td><td>只在admin数据库中可用，赋予用户所有数据库的读写权限</td></tr><tr><td>userAdminAnyDatabase</td><td>只在admin数据库中可用，赋予用户所有数据库的userAdmin权限</td></tr><tr><td>dbAdminAnyDatabase</td><td>只在admin数据库中可用，赋予用户所有数据库的dbAdmin权限</td></tr><tr><td>root</td><td>只在admin数据库中可用。超级账号，超级权限</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mongodb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu桌面快捷设置</title>
      <link href="/2019/07/03/Ubuntu%E6%A1%8C%E9%9D%A2%E5%BF%AB%E6%8D%B7%E8%AE%BE%E7%BD%AE/"/>
      <url>/2019/07/03/Ubuntu%E6%A1%8C%E9%9D%A2%E5%BF%AB%E6%8D%B7%E8%AE%BE%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="Ubuntu桌面快捷"><a href="#Ubuntu桌面快捷" class="headerlink" title="Ubuntu桌面快捷"></a>Ubuntu桌面快捷</h3><h5 id="位置"><a href="#位置" class="headerlink" title="位置"></a>位置</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/share/applications</span><br></pre></td></tr></table></figure><h5 id="使用gedit创建文件"><a href="#使用gedit创建文件" class="headerlink" title="使用gedit创建文件"></a>使用gedit创建文件</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit navicat.desktop</span><br></pre></td></tr></table></figure><h5 id="文件格式"><a href="#文件格式" class="headerlink" title="文件格式"></a>文件格式</h5><ul><li>例子1</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">Encoding=UTF-8</span><br><span class="line">Name=Navicat</span><br><span class="line">Comment=Navicat Premium</span><br><span class="line">Exec=/opt/Navicat/start_navicat</span><br><span class="line">Icon=/opt/Navicat/navicat.png</span><br><span class="line">Terminal=false</span><br><span class="line">StartupNotify=true</span><br><span class="line">Type=Application</span><br><span class="line">Categories=Application;Development;</span><br></pre></td></tr></table></figure><ul><li>例子2</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">Encoding=UTF-8</span><br><span class="line">Version=1.0</span><br><span class="line">Type=Application</span><br><span class="line">Terminal=false</span><br><span class="line">Name=Telegram Desktop</span><br><span class="line">Exec=/opt/telegram/Telegram -- %u</span><br><span class="line">Comment=Official desktop version of Telegram messaging app</span><br><span class="line">Icon=/opt/telegram/telegram.svg</span><br><span class="line">StartupWMClass=Telegram</span><br><span class="line">Categories=GNOME;GTK;Network;</span><br><span class="line">MimeType=application/x-xdg-protocol-tg;x-scheme-handler/tg;</span><br><span class="line">X-Desktop-File-Install-Version=0.22</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 系统命令 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 系统命令 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【工具篇】OpenJDK项目CodeTools</title>
      <link href="/2019/07/03/%E3%80%90%E5%B7%A5%E5%85%B7%E7%AF%87%E3%80%91OpenJDK%E9%A1%B9%E7%9B%AECodeTools/"/>
      <url>/2019/07/03/%E3%80%90%E5%B7%A5%E5%85%B7%E7%AF%87%E3%80%91OpenJDK%E9%A1%B9%E7%9B%AECodeTools/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="OpenJDK-项目-Code-Tools"><a href="#OpenJDK-项目-Code-Tools" class="headerlink" title="OpenJDK 项目 Code Tools"></a>OpenJDK 项目 Code Tools</h3><h4 id="字节码汇编器反汇编器-ASMTools-Download"><a href="#字节码汇编器反汇编器-ASMTools-Download" class="headerlink" title="字节码汇编器反汇编器 ASMTools(Download)"></a>字节码汇编器反汇编器 <a href="https://wiki.openjdk.java.net/display/CodeTools/asmtools" target="_blank" rel="noopener">ASMTools</a>(<a href="https://adopt-openjdk.ci.cloudbees.com/view/OpenJDK/job/asmtools/lastSuccessfulBuild/artifact/asmtools-6.0.tar.gz" target="_blank" rel="noopener">Download</a>)</h4><p>ASMTools 的反汇编以及汇编操作所对应的命令分别为：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -cp /path/to/asmtools.jar org.openjdk.asmtools.jdis.Main Foo.class &gt; Foo.jasm</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -cp /path/to/asmtools.jar org.openjdk.asmtools.jasm.Main Foo.jasm</span><br></pre></td></tr></table></figure><h4 id="JOL-Download"><a href="#JOL-Download" class="headerlink" title="JOL(Download)"></a><a href="http://openjdk.java.net/projects/code-tools/jol/" target="_blank" rel="noopener">JOL</a>(<a href="http://central.maven.org/maven2/org/openjdk/jol/jol-cli/0.9/jol-cli-0.9-full.jar" target="_blank" rel="noopener">Download</a>)</h4><p>JOL 可用于查阅 Java 虚拟机中对象的内存分布，具体可通过如下两条指令来实现。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ java -jar /path/to/jol-cli-0.9-full.jar internals java.util.HashMap</span><br><span class="line">$ java -jar /path/to/jol-cli-0.9-full.jar estimates java.util.HashMap</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>supervisor的安装和使用</title>
      <link href="/2019/05/13/supervisor%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/"/>
      <url>/2019/05/13/supervisor%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><h5 id="在ubuntu-16-04上安装"><a href="#在ubuntu-16-04上安装" class="headerlink" title="在ubuntu 16.04上安装"></a>在ubuntu 16.04上安装</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Uninstall old version</span></span><br><span class="line">$ sudo apt-get install supervisor</span><br></pre></td></tr></table></figure><h3 id="config"><a href="#config" class="headerlink" title="config"></a>config</h3><blockquote><p>Supervisor 是一个 C/S 模型的程序，supervisord 是 server 端，supervisorctl 是 client 端。</p></blockquote><h4 id="supervisord"><a href="#supervisord" class="headerlink" title="supervisord"></a>supervisord</h4><h6 id="下面介绍-supervisord-配置方法。supervisord-的配置文件默认位于-etc-supervisord-conf，内容如下（-后面为注释）："><a href="#下面介绍-supervisord-配置方法。supervisord-的配置文件默认位于-etc-supervisord-conf，内容如下（-后面为注释）：" class="headerlink" title="下面介绍 supervisord 配置方法。supervisord 的配置文件默认位于 /etc/supervisord.conf，内容如下（;后面为注释）："></a>下面介绍 supervisord 配置方法。supervisord 的配置文件默认位于 /etc/supervisord.conf，内容如下（;后面为注释）：</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">; supervisor config file</span><br><span class="line"></span><br><span class="line">[unix_http_server]</span><br><span class="line">file=/var/run/supervisor.sock   ; (the path to the socket file) UNIX socket 文件，supervisorctl 会使用</span><br><span class="line">chmod=0700                       ; sockef file mode (default 0700) socket 文件的 mode，默认是 0700</span><br><span class="line"></span><br><span class="line">[supervisord]</span><br><span class="line">logfile=/var/log/supervisor/supervisord.log ; (main log file;default $CWD/supervisord.log) 日志文件，默认是 $CWD/supervisord.log</span><br><span class="line">pidfile=/var/run/supervisord.pid ; (supervisord pidfile;default supervisord.pid) pid 文件</span><br><span class="line">childlogdir=/var/log/supervisor            ; (&apos;AUTO&apos; child log dir, default $TEMP)</span><br><span class="line"></span><br><span class="line">; the below section must remain in the config file for RPC</span><br><span class="line">; (supervisorctl/web interface) to work, additional interfaces may be</span><br><span class="line">; added by defining them in separate rpcinterface: sections</span><br><span class="line">[rpcinterface:supervisor]</span><br><span class="line">supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface</span><br><span class="line"></span><br><span class="line">[supervisorctl]</span><br><span class="line">serverurl=unix:///var/run/supervisor.sock ; use a unix:// URL  for a unix socket 通过 UNIX socket 连接 supervisord，路径与 unix_http_server 部分的 file 一致</span><br><span class="line"></span><br><span class="line">; 在增添需要管理的进程的配置文件时，推荐写到 `/etc/supervisor/conf.d/` 目录下，所以 `include` 项，就需要像如下配置。</span><br><span class="line">; 包含其他的配置文件</span><br><span class="line">[include]</span><br><span class="line">files = /etc/supervisor/conf.d/*.conf ; 引入 `/etc/supervisor/conf.d/` 下的 `.conf` 文件</span><br></pre></td></tr></table></figure><h5 id="program-配置"><a href="#program-配置" class="headerlink" title="program 配置"></a>program 配置</h5><h6 id="program-的配置文件就写在，supervisord-配置中-include-项的路径下：-etc-supervisor-conf-d-，然后-program-的配置文件命名规则推荐：app-name-conf"><a href="#program-的配置文件就写在，supervisord-配置中-include-项的路径下：-etc-supervisor-conf-d-，然后-program-的配置文件命名规则推荐：app-name-conf" class="headerlink" title="program 的配置文件就写在，supervisord 配置中 include 项的路径下：/etc/supervisor/conf.d/，然后 program 的配置文件命名规则推荐：app_name.conf"></a>program 的配置文件就写在，supervisord 配置中 include 项的路径下：/etc/supervisor/conf.d/，然后 program 的配置文件命名规则推荐：app_name.conf</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[program:app] ; 程序名称，在 supervisorctl 中通过这个值来对程序进行一系列的操作</span><br><span class="line">autorestart=True      ; 程序异常退出后自动重启</span><br><span class="line">autostart=True        ; 在 supervisord 启动的时候也自动启动</span><br><span class="line">redirect_stderr=True  ; 把 stderr 重定向到 stdout，默认 false</span><br><span class="line">environment=PATH=&quot;/home/app_env/bin&quot;  ; 可以通过 environment 来添加需要的环境变量，一种常见的用法是使用指定的 virtualenv 环境</span><br><span class="line">command=python server.py  ; 启动命令，与手动在命令行启动的命令是一样的</span><br><span class="line">user=ubuntu           ; 用哪个用户启动</span><br><span class="line">directory=/home/app/  ; 程序的启动目录</span><br><span class="line">stdout_logfile_maxbytes = 20MB  ; stdout 日志文件大小，默认 50MB</span><br><span class="line">stdout_logfile_backups = 20     ; stdout 日志文件备份数</span><br><span class="line">; stdout 日志文件，需要注意当指定目录不存在时无法正常启动，所以需要手动创建目录（supervisord 会自动创建日志文件）</span><br><span class="line">stdout_logfile = /data/logs/usercenter_stdout.log</span><br></pre></td></tr></table></figure><h3 id="supervisorctl-操作"><a href="#supervisorctl-操作" class="headerlink" title="supervisorctl 操作"></a>supervisorctl 操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 使用命令进入supervisor进入客户端</span><br><span class="line">sudo supervisorctl</span><br><span class="line"># 重读配置文件</span><br><span class="line">sudo supervisorctl reread</span><br><span class="line"># 更新</span><br><span class="line">sudo supervisorctl update</span><br></pre></td></tr></table></figure><h5 id="在supervisor客户端中"><a href="#在supervisor客户端中" class="headerlink" title="在supervisor客户端中:"></a>在supervisor客户端中:</h5><ul><li>help # 查看帮助</li><li>status # 查看程序状态</li><li>stop program_name # 关闭 指定的程序</li><li>start program_name # 启动 指定的程序</li><li>restart program_name # 重启 指定的程序</li><li>tail -f program_name # 查看 该程序的日志</li></ul>]]></content>
      
      
      <categories>
          
          <category> 系统命令 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 系统命令 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker相关使用</title>
      <link href="/2019/04/03/docker%E7%9B%B8%E5%85%B3%E4%BD%BF%E7%94%A8/"/>
      <url>/2019/04/03/docker%E7%9B%B8%E5%85%B3%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><h5 id="在ubuntu-16-04上安装"><a href="#在ubuntu-16-04上安装" class="headerlink" title="在ubuntu 16.04上安装"></a>在ubuntu 16.04上安装</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Uninstall old version</span></span><br><span class="line">$ sudo apt-get remove docker docker-engine docker.io</span><br><span class="line"></span><br><span class="line"><span class="comment"># Update the apt package index</span></span><br><span class="line">$ sudo apt-get update</span><br><span class="line"></span><br><span class="line"><span class="comment"># Install packages to allow apt to use a repository over HTTPS</span></span><br><span class="line">$ sudo apt-get install \</span><br><span class="line">    apt-transport-https \</span><br><span class="line">    ca-certificates \</span><br><span class="line">    curl \</span><br><span class="line">    software-properties-common</span><br><span class="line">    </span><br><span class="line"><span class="comment"># Add Docker’s official GPG key</span></span><br><span class="line">$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span><br><span class="line"></span><br><span class="line"><span class="comment"># Verify that you now have the key with the fingerprint 9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88,</span></span><br><span class="line"><span class="comment"># by searching for the last 8 characters of the fingerprint.</span></span><br><span class="line">$ sudo apt-key fingerprint 0EBFCD88</span><br><span class="line"></span><br><span class="line"><span class="comment"># Use the following command to set up the stable repository.</span></span><br><span class="line">$ sudo add-apt-repository \</span><br><span class="line">   <span class="string">"deb [arch=amd64] https://download.docker.com/linux/ubuntu \</span></span><br><span class="line"><span class="string">   <span class="variable">$(lsb_release -cs)</span> \</span></span><br><span class="line"><span class="string">   stable"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Update the apt package index.</span></span><br><span class="line">$ sudo apt-get update</span><br><span class="line"></span><br><span class="line"><span class="comment">#Install the latest version of Docker CE, or go to the next step to install a specific version</span></span><br><span class="line">$ sudo apt-get install docker-ce</span><br></pre></td></tr></table></figure><h5 id="列出可用版本-并且下载"><a href="#列出可用版本-并且下载" class="headerlink" title="列出可用版本,并且下载"></a>列出可用版本,并且下载</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># List the versions available in your repo</span></span><br><span class="line">$ apt-cache madison docker-ce</span><br><span class="line"></span><br><span class="line"><span class="comment"># Install a specific version by its fully qualified package name, which is package name (docker-ce) “=” version string (2nd column)</span></span><br><span class="line">$ sudo apt-get install docker-ce=&lt;VERSION&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Verify that Docker CE is installed correctly by running the hello-world image.</span></span><br><span class="line">$ sudo docker run hello-world</span><br></pre></td></tr></table></figure><h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## List Docker CLI commands</span></span><br><span class="line">docker</span><br><span class="line">docker container --<span class="built_in">help</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## Display Docker version and info</span></span><br><span class="line">docker --version</span><br><span class="line">docker version</span><br><span class="line">docker info</span><br><span class="line"></span><br><span class="line"><span class="comment">## Execute Docker image</span></span><br><span class="line">docker run hello-world</span><br><span class="line"></span><br><span class="line"><span class="comment">## List Docker images</span></span><br><span class="line">docker image ls</span><br><span class="line"></span><br><span class="line"><span class="comment">## List Docker containers (running, all, all in quiet mode)</span></span><br><span class="line">docker container ls</span><br><span class="line">docker container ls --all</span><br><span class="line">docker container ls -aq</span><br></pre></td></tr></table></figure><h3 id="Containers"><a href="#Containers" class="headerlink" title="Containers"></a>Containers</h3><h5 id="为您的环境提供快速测试运行，以确保您完成所有设置"><a href="#为您的环境提供快速测试运行，以确保您完成所有设置" class="headerlink" title="为您的环境提供快速测试运行，以确保您完成所有设置"></a>为您的环境提供快速测试运行，以确保您完成所有设置</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run hello-world</span><br></pre></td></tr></table></figure><h5 id="在docker中-这些便携的镜像是由Dockerfile定义"><a href="#在docker中-这些便携的镜像是由Dockerfile定义" class="headerlink" title="在docker中,这些便携的镜像是由Dockerfile定义"></a>在docker中,这些便携的镜像是由Dockerfile定义</h5><p><strong>example</strong></p><blockquote><p>以下三个文件需要放在同一个文件夹</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># Dockerfile</span><br><span class="line"># Use an official Python runtime as a parent image</span><br><span class="line">FROM python:2.7-slim</span><br><span class="line"></span><br><span class="line"># Set the working directory to /app</span><br><span class="line">WORKDIR /app</span><br><span class="line"></span><br><span class="line"># Copy the current directory contents into the container at /app</span><br><span class="line">COPY . /app</span><br><span class="line"></span><br><span class="line"># Install any needed packages specified in requirements.txt</span><br><span class="line">RUN pip install --trusted-host pypi.python.org -r requirements.txt</span><br><span class="line"></span><br><span class="line"># Make port 80 available to the world outside this container</span><br><span class="line">EXPOSE 80</span><br><span class="line"></span><br><span class="line"># Define environment variable</span><br><span class="line">ENV NAME World</span><br><span class="line"></span><br><span class="line"># Run app.py when the container launches</span><br><span class="line">CMD [&quot;python&quot;, &quot;app.py&quot;]</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 其中requirements.txt是python的依赖文件的包</span><br><span class="line">Flask</span><br><span class="line">Redis</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># app.py</span><br><span class="line">from flask import Flask</span><br><span class="line">from redis import Redis, RedisError</span><br><span class="line">import os</span><br><span class="line">import socket</span><br><span class="line"></span><br><span class="line"># Connect to Redis</span><br><span class="line">redis = Redis(host=&quot;redis&quot;, db=0, socket_connect_timeout=2, socket_timeout=2)</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&quot;/&quot;)</span><br><span class="line">def hello():</span><br><span class="line">    try:</span><br><span class="line">        visits = redis.incr(&quot;counter&quot;)</span><br><span class="line">    except RedisError:</span><br><span class="line">        visits = &quot;&lt;i&gt;cannot connect to Redis, counter disabled&lt;/i&gt;&quot;</span><br><span class="line"></span><br><span class="line">    html = &quot;&lt;h3&gt;Hello &#123;name&#125;!&lt;/h3&gt;&quot; \</span><br><span class="line">           &quot;&lt;b&gt;Hostname:&lt;/b&gt; &#123;hostname&#125;&lt;br/&gt;&quot; \</span><br><span class="line">           &quot;&lt;b&gt;Visits:&lt;/b&gt; &#123;visits&#125;&quot;</span><br><span class="line">    return html.format(name=os.getenv(&quot;NAME&quot;, &quot;world&quot;), hostname=socket.gethostname(), visits=visits)</span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    app.run(host=&apos;0.0.0.0&apos;, port=80)</span><br></pre></td></tr></table></figure><blockquote><p>上面的例子,由于没有docker中没有安装redis本身,所以所以会如期的一样报错,但是也足以作为一个例子使用</p></blockquote><h5 id="Build-the-app"><a href="#Build-the-app" class="headerlink" title="Build the app"></a>Build the app</h5><ol><li><p>使用上面的例子构建一个app,先查看当前目录的文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ls</span><br><span class="line">Dockerfileapp.pyrequirements.txt</span><br></pre></td></tr></table></figure></li><li><p>使用命令构建app</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t friendlyhello .</span><br></pre></td></tr></table></figure></li><li><p>查看docker的镜像</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ docker image ls</span><br><span class="line"></span><br><span class="line">REPOSITORY            TAG                 IMAGE ID</span><br><span class="line">friendlyhello         latest              326387cea398</span><br></pre></td></tr></table></figure></li></ol><h5 id="Run-the-app"><a href="#Run-the-app" class="headerlink" title="Run the app"></a>Run the app</h5><p>运行应用程序，使用-p将计算机的端口4000映射到容器的已发布端口80</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 4000:80 friendlyhello</span><br></pre></td></tr></table></figure><p>使用 <strong>curl</strong> 测试</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ curl http://localhost:4000</span><br><span class="line"></span><br><span class="line">&lt;h3&gt;Hello World!&lt;/h3&gt;&lt;b&gt;Hostname:&lt;/b&gt; 8fc990912a14&lt;br/&gt;&lt;b&gt;Visits:&lt;/b&gt; &lt;i&gt;cannot connect to Redis, counter disabled&lt;/i&gt;</span><br></pre></td></tr></table></figure><p>现在让我们以分离模式在后台运行应用程序：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 4000:80 friendlyhello</span><br></pre></td></tr></table></figure><p>使用docker container stop来结束进程，使用CONTAINER ID:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker container stop 1fa4ab2cf395</span><br></pre></td></tr></table></figure><h5 id="Share-your-image"><a href="#Share-your-image" class="headerlink" title="Share your image"></a>Share your image</h5><h6 id="Log-in-with-your-Docker-ID"><a href="#Log-in-with-your-Docker-ID" class="headerlink" title="Log in with your Docker ID"></a>Log in with your Docker ID</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker login</span><br></pre></td></tr></table></figure><h6 id="Tag-the-image"><a href="#Tag-the-image" class="headerlink" title="Tag the image"></a>Tag the image</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 将某一个镜像放在某个用户的repository下面,并且打上标签</span><br><span class="line">docker tag image username/repository:tag</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># For example:</span><br><span class="line"># 添加标签</span><br><span class="line">docker tag friendlyhello vallzey/get-started:part2</span><br><span class="line"># 去除标签</span><br><span class="line">docker image rm vallzey/get-started:part2</span><br></pre></td></tr></table></figure><h6 id="Publish-the-image"><a href="#Publish-the-image" class="headerlink" title="Publish the image"></a>Publish the image</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker push username/repository:tag</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># For example:</span><br><span class="line">docker push vallzey/get-started:part2</span><br></pre></td></tr></table></figure><p>现在可以在任何机上运行这个image,如果本地没有的话,系统就会从网上下载</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 4000:80 username/repository:tag</span><br></pre></td></tr></table></figure><h5 id="常用命令-1"><a href="#常用命令-1" class="headerlink" title="常用命令"></a>常用命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">docker build -t friendlyhello .  # Create image using this directory&apos;s Dockerfile</span><br><span class="line">docker run -p 4000:80 friendlyhello  # Run &quot;friendlyname&quot; mapping port 4000 to 80</span><br><span class="line">docker run -d -p 4000:80 friendlyhello         # Same thing, but in detached mode</span><br><span class="line">docker container ls                                # List all running containers</span><br><span class="line">docker container ls -a             # List all containers, even those not running</span><br><span class="line">docker container stop &lt;hash&gt;           # Gracefully stop the specified container</span><br><span class="line">docker container kill &lt;hash&gt;         # Force shutdown of the specified container</span><br><span class="line">docker container rm &lt;hash&gt;        # Remove specified container from this machine</span><br><span class="line">docker container rm $(docker container ls -a -q)         # Remove all containers</span><br><span class="line">docker image ls -a                             # List all images on this machine</span><br><span class="line">docker image rm &lt;image id&gt;            # Remove specified image from this machine</span><br><span class="line">docker image rm $(docker image ls -a -q)   # Remove all images from this machine</span><br><span class="line">docker login             # Log in this CLI session using your Docker credentials</span><br><span class="line">docker tag &lt;image&gt; username/repository:tag  # Tag &lt;image&gt; for upload to registry</span><br><span class="line">docker push username/repository:tag            # Upload tagged image to registry</span><br><span class="line">docker run username/repository:tag                   # Run image from a registry</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 系统命令 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 系统命令 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mac安装测试redis</title>
      <link href="/2019/03/14/mac%E5%AE%89%E8%A3%85%E6%B5%8B%E8%AF%95redis/"/>
      <url>/2019/03/14/mac%E5%AE%89%E8%A3%85%E6%B5%8B%E8%AF%95redis/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="Redis简介"><a href="#Redis简介" class="headerlink" title="Redis简介"></a>Redis简介</h3><ul><li>Redis 是完全开源免费的，遵守BSD协议，是一个高性能的key-value数据库。</li><li>Redis运行在内存中，同时支持数据的持久化，可以将内存中的数据保存在磁盘中，重启的时候可以再次加载进行使用。</li><li>Redis不仅仅支持简单的key-value类型的数据，同时还提供list，set，zset，hash等数据结构的存储。</li></ul><h3 id="Why-Redis"><a href="#Why-Redis" class="headerlink" title="Why Redis?"></a>Why Redis?</h3><p>作为key-value型数据库，Redis:</p><ul><li>性能极高(Redis能读的速度是110000次/s,写的速度是81000次/s)</li><li>丰富的数据类型</li><li>原子(Redis的所有操作都是原子性的)</li></ul><h3 id="macOS上下载Redis"><a href="#macOS上下载Redis" class="headerlink" title="macOS上下载Redis"></a>macOS上下载Redis</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew install redis</span><br></pre></td></tr></table></figure><p>配置Redis<br>安装完成后redis默认的配置文件redis.conf位于/usr/local/etc</p><p>同时，redis-sentinel.conf也在这里。</p><blockquote><p>如果启动时不指定配置文件,redis会使用程序中内置的默认配置.但是只有在开发和测试阶段才考虑使用内置的默认配置，正式环境最好还是提供配置文件，并且一般命名为redis.conf</p></blockquote><p>启动Redis</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server /usr/local/etc/redis.conf</span><br></pre></td></tr></table></figure><blockquote><p>redis服务器启动成功，并在监听6379端口的网络连接。</p></blockquote><p>如果想要检测redis服务器是否启动，需要重新打开一个终端窗口，输入命令:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">redis-cli ping</span><br><span class="line"></span><br><span class="line"># PONG 说明正常</span><br></pre></td></tr></table></figure><p>关闭Redis</p><ol><li>在执行启动命令的窗口使用ctrl+c</li><li>在另外一个终端窗口执行：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ redis-cli shutdown</span><br></pre></td></tr></table></figure></li></ol><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p><a href="https://www.runoob.com/redis/redis-conf.html" target="_blank" rel="noopener">https://www.runoob.com/redis/redis-conf.html</a></p>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java序列化</title>
      <link href="/2019/03/07/Java%E5%BA%8F%E5%88%97%E5%8C%96/"/>
      <url>/2019/03/07/Java%E5%BA%8F%E5%88%97%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="什么是序列化"><a href="#什么是序列化" class="headerlink" title="什么是序列化"></a>什么是序列化</h2><p>我们的对象并不只是存在内存中，还需要传输网络，或者保存起来下次再加载出来用，所以需要Java序列化技术。</p><p>Java序列化技术正是将对象转变成一串由二进制字节组成的数组，可以通过将二进制数据保存到磁盘或者传输网络，磁盘或者网络接收者可以在对象的属类的模板上来反序列化类的对象，达到对象持久化的目的。</p><h2 id="怎么序列化一个对象？"><a href="#怎么序列化一个对象？" class="headerlink" title="怎么序列化一个对象？"></a>怎么序列化一个对象？</h2><p>要序列化一个对象，这个对象所在类就必须实现Java序列化的接口：java.io.Serializable。</p><h4 id="类添加序列化接口"><a href="#类添加序列化接口" class="headerlink" title="类添加序列化接口"></a>类添加序列化接口</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = -<span class="number">8475669200846811112L</span>;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUsername</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"User&#123;"</span> + <span class="string">"username='"</span> + username + <span class="string">'\''</span> + <span class="string">", address='"</span> + address + <span class="string">'\''</span> + <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="序列化-反序列化"><a href="#序列化-反序列化" class="headerlink" title="序列化/反序列化"></a>序列化/反序列化</h4><p>可以借助commons-lang3⼯具包⾥⾯的类实现对象的序列化及反序列化，你没有必要⾃⼰写。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.lang3.SerializationUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        User user = <span class="keyword">new</span> User();</span><br><span class="line">        user.setUsername(<span class="string">"Java"</span>);</span><br><span class="line">        user.setAddress(<span class="string">"China"</span>);</span><br><span class="line">        <span class="keyword">byte</span>[] bytes = SerializationUtils.serialize(user);</span><br><span class="line">        User u = SerializationUtils.deserialize(bytes);</span><br><span class="line">        System.out.println(u);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="输出："><a href="#输出：" class="headerlink" title="输出："></a>输出：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User&#123;username=&apos;Java&apos;, address=&apos;China&apos;&#125;</span><br></pre></td></tr></table></figure><h3 id="序列化注意事项"><a href="#序列化注意事项" class="headerlink" title="序列化注意事项"></a>序列化注意事项</h3><ul><li><p>序列化对象必须实现序列化接口。</p></li><li><p>序列化对象里面的属性是对象的话也要实现序列化接口。</p></li><li><p>类的对象序列化后，类的序列化ID不能轻易修改，不然反序列化会失败。</p></li><li><p>类的对象序列化后，类的属性有增加或者删除不会影响序列化，只是值会丢失。</p></li><li><p>如果父类序列化了，子类会继承父类的序列化，子类无需添加序列化接口。</p></li><li><p>如果父类没有序列化，子类序列化了，子类中的属性能正常序列化，但父类的属性会丢失，不能序列化。</p></li><li><p>用Java序列化的二进制字节数据只能由Java反序列化，不能被其他语言反序列化。如果要进行前后端或者不同语言之间的交互一般需要将对象转变成Json/Xml通用格式的数据，再恢复原来的对象。</p></li><li><p>如果某个字段不想序列化，在该字段前加上transient关键字即可。</p></li></ul><h3 id="transient-关键字总结"><a href="#transient-关键字总结" class="headerlink" title="transient 关键字总结"></a>transient 关键字总结</h3><ul><li><p>transient修饰的变量不能被序列化；</p></li><li><p>transient只作用于实现 Serializable 接口；</p></li><li><p>transient只能用来修饰普通成员变量字段；</p></li><li><p>不管有没有 transient 修饰，静态变量都不能被序列化；</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ssh相关笔记</title>
      <link href="/2019/02/22/ssh%E7%9B%B8%E5%85%B3%E7%AC%94%E8%AE%B0/"/>
      <url>/2019/02/22/ssh%E7%9B%B8%E5%85%B3%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="安装启动"><a href="#安装启动" class="headerlink" title="安装启动"></a>安装启动</h3><blockquote><p>自行查找</p></blockquote><h3 id="关于私钥登录"><a href="#关于私钥登录" class="headerlink" title="关于私钥登录"></a>关于私钥登录</h3><h6 id="1、使用ssh-kegen命令生成公私钥"><a href="#1、使用ssh-kegen命令生成公私钥" class="headerlink" title="1、使用ssh-kegen命令生成公私钥"></a>1、使用ssh-kegen命令生成公私钥</h6><p>可以看到/root/.ssh目录下已经生成了对应的公私钥对</p><p>2、将公钥信息写入到私钥登录时的校验文件</p><p>通过查看/etc/ssh/sshd_config中的配置信息发现此校验文件默认情况下是当前用户的.ssh目录下的authorized_keys</p>]]></content>
      
      
      <categories>
          
          <category> 操作系统 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【工具篇】javap命令</title>
      <link href="/2019/02/07/%E3%80%90%E5%B7%A5%E5%85%B7%E7%AF%87%E3%80%91javap%E5%91%BD%E4%BB%A4/"/>
      <url>/2019/02/07/%E3%80%90%E5%B7%A5%E5%85%B7%E7%AF%87%E3%80%91javap%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="javap命令"><a href="#javap命令" class="headerlink" title="javap命令"></a>javap命令</h3><p>默认情况下 javap 会打印所有非私有的字段和方法</p><ul><li>-p : 将打印私有的字段和方法</li><li>-v : 尽可能地打印所有信息<h4 id="使用案例"><a href="#使用案例" class="headerlink" title="使用案例"></a>使用案例</h4><h5 id="1-创建并编译Foo类"><a href="#1-创建并编译Foo类" class="headerlink" title="1 创建并编译Foo类"></a>1 创建并编译Foo类</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> tryBlock;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> catchBlock;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> finallyBlock;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> methodExit;</span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      tryBlock = <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">      catchBlock = <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">      finallyBlock = <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    methodExit = <span class="number">3</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h5 id="2-运行以下命令"><a href="#2-运行以下命令" class="headerlink" title="2 运行以下命令"></a>2 运行以下命令</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javap -p -v Foo</span><br></pre></td></tr></table></figure><h5 id="3-查看分析结果"><a href="#3-查看分析结果" class="headerlink" title="3 查看分析结果"></a>3 查看分析结果</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br></pre></td><td class="code"><pre><span class="line">$ javac Foo.java</span><br><span class="line">$ javap -p -v Foo</span><br><span class="line">Classfile ../Foo.class</span><br><span class="line">  Last modified ..; size 541 bytes</span><br><span class="line">  MD5 checksum 3828cdfbba56fea1da6c8d94fd13b20d</span><br><span class="line">  Compiled from <span class="string">"Foo.java"</span></span><br><span class="line">public class Foo</span><br><span class="line"></span><br><span class="line">  <span class="comment"># class 文件的版本号</span></span><br><span class="line">  <span class="string">''</span><span class="string">'</span></span><br><span class="line"><span class="string">  class 文件的版本号指的是编译生成该 class 文件时所用的 JRE 版本。</span></span><br><span class="line"><span class="string">  由较新的 JRE 版本中的 javac 编译而成的 class 文件，不能在旧版本的 JRE 上跑，</span></span><br><span class="line"><span class="string">  否则，会出现如下异常信息。</span></span><br><span class="line"><span class="string">  （Java 8 对应的版本号为 52，Java 10 对应的版本号为 54。）</span></span><br><span class="line"><span class="string">  '</span><span class="string">''</span></span><br><span class="line">  minor version: 0</span><br><span class="line">  major version: 54</span><br><span class="line">  </span><br><span class="line">  <span class="comment"># 该类的访问权限</span></span><br><span class="line">  <span class="string">''</span><span class="string">'</span></span><br><span class="line"><span class="string">  类的访问权限通常为 ACC_ 开头的常量。</span></span><br><span class="line"><span class="string">  具体每个常量的意义可以查阅 Java 虚拟机规范 4.1 小节。</span></span><br><span class="line"><span class="string">  https://docs.oracle.com/javase/specs/jvms/se10/html/jvms-4.html#jvms-4.1</span></span><br><span class="line"><span class="string">  '</span><span class="string">''</span></span><br><span class="line">  flags: (0x0021) ACC_PUBLIC, ACC_SUPER</span><br><span class="line">  </span><br><span class="line">  <span class="comment"># 该类以及父类的名字</span></span><br><span class="line">  this_class: <span class="comment">#7                          // Foo</span></span><br><span class="line">  super_class: <span class="comment">#8                         // java/lang/Object</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment"># 所实现接口、字段、方法以及属性的数目。</span></span><br><span class="line">  <span class="string">''</span><span class="string">'</span></span><br><span class="line"><span class="string">  这里属性指的是 class 文件所携带的辅助信息，比如该 class 文件的源文件的名称。</span></span><br><span class="line"><span class="string">  这类信息通常被用于 Java 虚拟机的验证和运行，以及 Java 程序的调试，一般无须深入了解。</span></span><br><span class="line"><span class="string">  '</span><span class="string">''</span></span><br><span class="line">  interfaces: 0, fields: 4, methods: 2, attributes: 1</span><br><span class="line">  </span><br><span class="line"><span class="comment"># 常量池，用来存放各种常量以及符号引用。</span></span><br><span class="line"><span class="string">''</span><span class="string">'</span></span><br><span class="line"><span class="string">常量池中的每一项都有一个对应的索引（如 #1），并且可能引用其他的常量池项（#1 = Methodref #8.#23）。</span></span><br><span class="line"><span class="string">'</span><span class="string">''</span></span><br><span class="line">Constant pool:</span><br><span class="line">   <span class="comment">#1 = Methodref          #8.#23         // java/lang/Object."&lt;init&gt;":()V</span></span><br><span class="line">   <span class="comment">#2 = Fieldref           #7.#24         // Foo.tryBlock:I</span></span><br><span class="line">   <span class="comment">#3 = Fieldref           #7.#25         // Foo.finallyBlock:I</span></span><br><span class="line">   <span class="comment">#4 = Class              #26            // java/lang/Exception</span></span><br><span class="line">   <span class="comment">#5 = Fieldref           #7.#27         // Foo.catchBlock:I</span></span><br><span class="line">   <span class="comment">#6 = Fieldref           #7.#28         // Foo.methodExit:I</span></span><br><span class="line">   <span class="comment">#7 = Class              #29            // Foo</span></span><br><span class="line">   <span class="comment">#8 = Class              #30            // java/lang/Object</span></span><br><span class="line">   <span class="comment">#9 = Utf8               tryBlock</span></span><br><span class="line">  <span class="comment">#10 = Utf8               I</span></span><br><span class="line">  <span class="comment">#11 = Utf8               catchBlock</span></span><br><span class="line">  <span class="comment">#12 = Utf8               finallyBlock</span></span><br><span class="line">  <span class="comment">#13 = Utf8               methodExit</span></span><br><span class="line">  <span class="comment">#14 = Utf8               &lt;init&gt;</span></span><br><span class="line">  <span class="comment">#15 = Utf8               ()V</span></span><br><span class="line">  <span class="comment">#16 = Utf8               Code</span></span><br><span class="line">  <span class="comment">#17 = Utf8               LineNumberTable</span></span><br><span class="line">  <span class="comment">#18 = Utf8               test</span></span><br><span class="line">  <span class="comment">#19 = Utf8               StackMapTable</span></span><br><span class="line">  <span class="comment">#20 = Class              #31            // java/lang/Throwable</span></span><br><span class="line">  <span class="comment">#21 = Utf8               SourceFile</span></span><br><span class="line">  <span class="comment">#22 = Utf8               Foo.java</span></span><br><span class="line">  <span class="comment">#23 = NameAndType        #14:#15        // "&lt;init&gt;":()V</span></span><br><span class="line">  <span class="comment">#24 = NameAndType        #9:#10         // tryBlock:I</span></span><br><span class="line">  <span class="comment">#25 = NameAndType        #12:#10        // finallyBlock:I</span></span><br><span class="line">  <span class="comment">#26 = Utf8               java/lang/Exception</span></span><br><span class="line">  <span class="comment">#27 = NameAndType        #11:#10        // catchBlock:I</span></span><br><span class="line">  <span class="comment">#28 = NameAndType        #13:#10        // methodExit:I</span></span><br><span class="line">  <span class="comment">#29 = Utf8               Foo</span></span><br><span class="line">  <span class="comment">#30 = Utf8               java/lang/Object</span></span><br><span class="line">  <span class="comment">#31 = Utf8               java/lang/Throwable</span></span><br><span class="line">  </span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment"># 字段区域，用来列举该类中的各个字段。</span></span><br><span class="line">  <span class="string">''</span><span class="string">'</span></span><br><span class="line"><span class="string">  这里最主要的信息便是该字段的类型（descriptor: I）以及访问权限（flags: (0x0002) ACC_PRIVATE）。</span></span><br><span class="line"><span class="string">  对于声明为 final 的静态字段而言，如果它是基本类型或者字符串类型，那么字段区域还将包括它的常量值。</span></span><br><span class="line"><span class="string">  '</span><span class="string">''</span></span><br><span class="line">  private int tryBlock;</span><br><span class="line">    descriptor: I</span><br><span class="line">    flags: (0x0002) ACC_PRIVATE</span><br><span class="line"> </span><br><span class="line">  private int catchBlock;</span><br><span class="line">    descriptor: I</span><br><span class="line">    flags: (0x0002) ACC_PRIVATE</span><br><span class="line"> </span><br><span class="line">  private int finallyBlock;</span><br><span class="line">    descriptor: I</span><br><span class="line">    flags: (0x0002) ACC_PRIVATE</span><br><span class="line"> </span><br><span class="line">  private int methodExit;</span><br><span class="line">    descriptor: I</span><br><span class="line">    flags: (0x0002) ACC_PRIVATE</span><br><span class="line"> </span><br><span class="line">  <span class="comment"># 方法区域，用来列举该类中的各个方法。</span></span><br><span class="line">  <span class="string">''</span><span class="string">'</span></span><br><span class="line"><span class="string">  除了方法描述符以及访问权限之外，每个方法还包括最为重要的代码区域（Code:)。</span></span><br><span class="line"><span class="string">  '</span><span class="string">''</span></span><br><span class="line">  public Foo();</span><br><span class="line">    descriptor: ()V</span><br><span class="line">    flags: (0x0001) ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=1, locals=1, args_size=1</span><br><span class="line">         0: aload_0</span><br><span class="line">         1: invokespecial <span class="comment">#1                  // Method java/lang/Object."&lt;init&gt;":()V</span></span><br><span class="line">         4: <span class="built_in">return</span></span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 1: 0</span><br><span class="line"> </span><br><span class="line">  public void <span class="built_in">test</span>();</span><br><span class="line">    descriptor: ()V</span><br><span class="line">    flags: (0x0001) ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      <span class="string">''</span><span class="string">'</span></span><br><span class="line"><span class="string">      代码区域一开始会声明该方法中的操作数栈（stack=2）和局部变量数目（locals=3）的最大值，以及该方法接收参数的个数（args_size=1）。</span></span><br><span class="line"><span class="string">      注意这里局部变量指的是字节码中的局部变量，而非 Java 程序中的局部变量。</span></span><br><span class="line"><span class="string">      '</span><span class="string">''</span></span><br><span class="line">      stack=2, locals=3, args_size=1</span><br><span class="line">         <span class="string">''</span><span class="string">'</span></span><br><span class="line"><span class="string">         接下来则是该方法的字节码。每条字节码均标注了对应的偏移量（bytecode index，BCI），这是用来定位字节码的。</span></span><br><span class="line"><span class="string">         比如说偏移量为 10 的跳转字节码 10: goto 35，将跳转至偏移量为 35 的字节码 35: aload_0。</span></span><br><span class="line"><span class="string">         '</span><span class="string">''</span></span><br><span class="line">         0: aload_0</span><br><span class="line">         1: iconst_0</span><br><span class="line">         2: putfield      <span class="comment">#2                  // Field tryBlock:I</span></span><br><span class="line">         5: aload_0</span><br><span class="line">         6: iconst_2</span><br><span class="line">         7: putfield      <span class="comment">#3                  // Field finallyBlock:I</span></span><br><span class="line">        10: goto          35</span><br><span class="line">        13: astore_1</span><br><span class="line">        14: aload_0</span><br><span class="line">        15: iconst_1</span><br><span class="line">        16: putfield      <span class="comment">#5                  // Field catchBlock:I</span></span><br><span class="line">        19: aload_0</span><br><span class="line">        20: iconst_2</span><br><span class="line">        21: putfield      <span class="comment">#3                  // Field finallyBlock:I</span></span><br><span class="line">        24: goto          35</span><br><span class="line">        27: astore_2</span><br><span class="line">        28: aload_0</span><br><span class="line">        29: iconst_2</span><br><span class="line">        30: putfield      <span class="comment">#3                  // Field finallyBlock:I</span></span><br><span class="line">        33: aload_2</span><br><span class="line">        34: athrow</span><br><span class="line">        35: aload_0</span><br><span class="line">        36: iconst_3</span><br><span class="line">        37: putfield      <span class="comment">#6                  // Field methodExit:I</span></span><br><span class="line">        40: <span class="built_in">return</span></span><br><span class="line">      </span><br><span class="line">      <span class="string">''</span><span class="string">'</span></span><br><span class="line"><span class="string">      紧跟着的异常表（Exception table:）也会使用偏移量来定位每个异常处理器所监控的范围（由 from 到 to 的代码区域），以及异常处理器的起始位置（target）。</span></span><br><span class="line"><span class="string">      除此之外，它还会声明所捕获的异常类型（type）。其中，any 指代任意异常类型。</span></span><br><span class="line"><span class="string">      '</span><span class="string">''</span></span><br><span class="line">      Exception table:</span><br><span class="line">         from    to  target <span class="built_in">type</span></span><br><span class="line">             0     5    13   Class java/lang/Exception</span><br><span class="line">             0     5    27   any</span><br><span class="line">            13    19    27   any</span><br><span class="line">      </span><br><span class="line">      <span class="string">''</span><span class="string">'</span></span><br><span class="line"><span class="string">      再接下来的行数表（LineNumberTable:）则是 Java 源程序到字节码偏移量的映射。</span></span><br><span class="line"><span class="string">      '</span><span class="string">''</span></span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 9: 0</span><br><span class="line">        line 13: 5</span><br><span class="line">        line 14: 10</span><br><span class="line">        line 10: 13</span><br><span class="line">        line 11: 14</span><br><span class="line">        line 13: 19</span><br><span class="line">        line 14: 24</span><br><span class="line">        line 13: 27</span><br><span class="line">        line 14: 33</span><br><span class="line">        line 15: 35</span><br><span class="line">        line 16: 40</span><br><span class="line">      StackMapTable: number_of_entries = 3</span><br><span class="line">        frame_type = 77 /* same_locals_1_stack_item */</span><br><span class="line">          stack = [ class java/lang/Exception ]</span><br><span class="line">        frame_type = 77 /* same_locals_1_stack_item */</span><br><span class="line">          stack = [ class java/lang/Throwable ]</span><br><span class="line">        frame_type = 7 /* same */</span><br><span class="line">&#125;</span><br><span class="line">SourceFile: <span class="string">"Foo.java"</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【工具篇】ASM：Java字节码框架</title>
      <link href="/2019/02/05/%E3%80%90%E5%B7%A5%E5%85%B7%E7%AF%87%E3%80%91ASM%EF%BC%9AJava%E5%AD%97%E8%8A%82%E7%A0%81%E6%A1%86%E6%9E%B6/"/>
      <url>/2019/02/05/%E3%80%90%E5%B7%A5%E5%85%B7%E7%AF%87%E3%80%91ASM%EF%BC%9AJava%E5%AD%97%E8%8A%82%E7%A0%81%E6%A1%86%E6%9E%B6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p><a href="https://asm.ow2.io/" target="_blank" rel="noopener">ASM</a>(<a href="https://repository.ow2.org/nexus/content/repositories/releases/org/ow2/asm/asm-all/6.0_BETA/asm-all-6.0_BETA.jar" target="_blank" rel="noopener">Download</a>)是一个字节码分析及修改框架。它被广泛应用于许多项目之中，例如 Groovy、Kotlin 的编译器，代码覆盖测试工具 Cobertura、JaCoCo，以及各式各样通过字节码注入实现的程序行为监控工具。甚至是 Java 8 中 Lambda 表达式的适配器类，也是借助 ASM 来动态生成的。</p><p>ASM 既可以生成新的 class 文件，也可以修改已有的 class 文件。前者相对比较简单一些。ASM 甚至还提供了一个辅助类 ASMifier，它将接收一个 class 文件并且输出一段生成该 class 文件原始字节数组的代码。如果你想快速上手 ASM 的话，那么你可以借助 ASMifier 生成的代码来探索各个 API 的用法。</p><h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>重新编译JVM</title>
      <link href="/2019/01/03/%E9%87%8D%E6%96%B0%E7%BC%96%E8%AF%91JVM/"/>
      <url>/2019/01/03/%E9%87%8D%E6%96%B0%E7%BC%96%E8%AF%91JVM/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>Mac 系统为例</p></blockquote><h2 id="openjdk-7u"><a href="#openjdk-7u" class="headerlink" title="openjdk_7u"></a>openjdk_7u</h2><h3 id="1-获取JDK源代码"><a href="#1-获取JDK源代码" class="headerlink" title="1 获取JDK源代码"></a>1 获取JDK源代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://download.java.net/openjdk/jdk7/</span><br></pre></td></tr></table></figure><h3 id="2-进行编译"><a href="#2-进行编译" class="headerlink" title="2 进行编译"></a>2 进行编译</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设定语言，否则会出现HashTable内的空指针异常</span></span><br><span class="line"><span class="built_in">export</span> LANG=C</span><br><span class="line"></span><br><span class="line"><span class="comment"># Bootstrap JDK的安装路径.必须设置</span></span><br><span class="line"><span class="built_in">export</span> ALT_BOOTDIR=/Library/Java/JavaVirtualMachines/jdk1.8.0_152.jdk/Contents/Home</span><br><span class="line"></span><br><span class="line"><span class="comment"># 需要重设置JAVA_HOME 和 CLASSPATH</span></span><br><span class="line"><span class="built_in">unset</span> JAVA_HOME</span><br><span class="line"><span class="built_in">unset</span> CLASSPATH</span><br><span class="line"></span><br><span class="line"><span class="comment"># 允许自动下载依赖</span></span><br><span class="line"><span class="built_in">export</span> ALLOW_DOWNLOADS=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 并行编译的线程数,设置为和CPU内核一致</span></span><br><span class="line"><span class="built_in">export</span> HOTSPOT_BUILD_JOBS=8</span><br><span class="line"><span class="built_in">export</span> ALT_PARALLEL_COMPILE_JOBS=8</span><br><span class="line"></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="built_in">export</span> SKIP_COMPARE_IMAGES=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用预编译文件</span></span><br><span class="line"><span class="built_in">export</span> USE_PRECOMPILED_HEADER=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 要编译的内容</span></span><br><span class="line"><span class="built_in">export</span> BUILD_LANGTOOLS=<span class="literal">true</span></span><br><span class="line"><span class="built_in">export</span> BUILD_JAXP=<span class="literal">false</span></span><br><span class="line"><span class="built_in">export</span> BUILD_JAXWS=<span class="literal">false</span></span><br><span class="line"><span class="built_in">export</span> BUILD_CORBA=<span class="literal">false</span></span><br><span class="line"><span class="built_in">export</span> BUILD_HOSTPOT=<span class="literal">true</span></span><br><span class="line"><span class="built_in">export</span> BUILD_JDK=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#要编译的版本</span></span><br><span class="line"><span class="comment"># export SKIP_DEBUG_BUILD=false</span></span><br><span class="line"><span class="comment"># export SKIP_FASTDEBUG_BUILD=true</span></span><br><span class="line"><span class="comment"># export DEBUG_NAME=debug</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 把它设置为false可以避免javaws和浏览器Java插件之类的部分build</span></span><br><span class="line">BUILD_DEPLOY=<span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 把它设置为false就不会build出安装包.因为安装包里有些奇怪的依赖,</span></span><br><span class="line"><span class="comment"># 但是即便不build出它也已经能得到完整的JDK映像,所以还是别build它好了</span></span><br><span class="line">BUILD_INSTALL=<span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#编译结果所存放的路径</span></span><br><span class="line"><span class="built_in">export</span> ALT_OUTPUTDIR=/Users/vallzey/Tools/JVM/jdkBuild/openjdk_7/build</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这两个环境变量必须去掉</span></span><br><span class="line"><span class="built_in">unset</span> CLASSPATH</span><br><span class="line"><span class="built_in">unset</span> JAVA_HOME</span><br><span class="line"></span><br><span class="line">:<span class="string">'</span></span><br><span class="line"><span class="string">2&gt;&amp;1应该分成两个部分来看，一个是2&gt;以及另一个是&amp;1，</span></span><br><span class="line"><span class="string">其中2&gt;就是将标准出错重定向到某个特定的地方；&amp;1是指无论标准输出在哪里。</span></span><br><span class="line"><span class="string">所以2&gt;&amp;1的意思就是说无论标准出错在哪里，都将标准出错重定向到标准输出中</span></span><br><span class="line"><span class="string">'</span></span><br><span class="line">make 2&gt;&amp;1 | tee <span class="variable">$ALT_OUTPUTDIR</span>/build.log</span><br></pre></td></tr></table></figure><h2 id="openjdk-9"><a href="#openjdk-9" class="headerlink" title="openjdk_9"></a>openjdk_9</h2><h3 id="1-准备"><a href="#1-准备" class="headerlink" title="1 准备"></a>1 准备</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 安装ccache</span><br><span class="line">brew install ccache</span><br><span class="line"># freetype</span><br><span class="line">brew install freetype</span><br></pre></td></tr></table></figure><h3 id="2-下载"><a href="#2-下载" class="headerlink" title="2 下载"></a>2 <a href="http://jdk.java.net/java-se-ri/9" target="_blank" rel="noopener">下载</a></h3><h3 id="3-configure"><a href="#3-configure" class="headerlink" title="3 configure"></a>3 configure</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">在源码顶层目录上执行</span><br><span class="line">sh configure --with-debug-level=slowdebug --<span class="built_in">disable</span>-warnings-as-errors --with-freetype-include=/usr/<span class="built_in">local</span>/Cellar/freetype/2.9.1/include/freetype2 --with-freetype-lib=/usr/<span class="built_in">local</span>/Cellar/freetype/2.9.1/lib</span><br></pre></td></tr></table></figure><h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3><ul><li><p>打开hotspot目录中的src/share/vm/memory/virtualspace.cpp 搜索其中if (base() &gt; 0) {改为if (base() != NULL) {</p></li><li><p>src/share/vm/opto/lcm.cpp 搜索其中if (Universe::narrow_oop_base() &gt; 0) { 改为 if (Universe::narrow_oop_base() != NULL) {</p></li><li><p>src/share/vm/opto/loopPredicate.cpp 搜索其中assert(rng-&gt;Opcode() == Op_LoadRange || _igvn.type(rng)-&gt;is_int() &gt;= 0, “must be”); 改为 assert(rng-&gt;Opcode() == Op_LoadRange || iff-&gt;is_RangeCheck() || _igvn.type(rng)-&gt;is_int()-&gt;_lo &gt;= 0, “must be”);</p></li></ul><h3 id="运行make"><a href="#运行make" class="headerlink" title="运行make"></a>运行make</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Run make</span><br><span class="line">export LANG=C</span><br><span class="line">make all LOG=debug 2&gt;&amp;1 | tee make_mac_x64.log</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>tensorflow的简单使用</title>
      <link href="/2018/10/21/tensorflow%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
      <url>/2018/10/21/tensorflow%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="TensorFlow基础使用"><a href="#TensorFlow基础使用" class="headerlink" title="TensorFlow基础使用"></a>TensorFlow基础使用</h3><hr><h5 id="启发"><a href="#启发" class="headerlink" title="启发"></a>启发</h5><p>先提一个启发性的问题，假设你有一个损失函数<code>$J_w$</code>需要最小化:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">J_w=w^2-10w+25</span><br></pre></td></tr></table></figure><p>你只有这个函数，我们来看一下怎样用TensorFlow将其最小化，因为一个非常类似的程序结构可以用来训练神经网络。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 接下来，让我们定义参数w，在TensorFlow中，你要用tf.Variable()来定义参数</span></span><br><span class="line">w = tf.Variable(<span class="number">0</span>, dtype=tf.float32)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 然后我们定义损失函数 Jw = w^2-10*w+25：</span></span><br><span class="line"><span class="comment"># cost = tf.add(tf.add(w**2, tf.multiply(-10., w), 25))</span></span><br><span class="line">cost = w**<span class="number">2</span><span class="number">-10</span>*w+<span class="number">25</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># (让我们用0.01的学习率，目标是最小化损失)。</span></span><br><span class="line">train = tf.train.GradientDescentOptimizer(<span class="number">0.01</span>).minimize(cost)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 最后下面的几行是惯用表达式:</span></span><br><span class="line"></span><br><span class="line">init = tf.global_variables_initializer()</span><br><span class="line">session = tf.Session()  <span class="comment"># 这样就开启了一个TensorFlow session。</span></span><br><span class="line">session.run(init)   <span class="comment"># 来初始化全局变量。</span></span><br><span class="line">session.run(w)  <span class="comment"># 然后让TensorFlow评估一个变量，我们要用到:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 上面的这一行将w初始化为0，并定义损失函数，我们定义train为学习算法，它用梯度下降法优化器使损失函数最小化，</span></span><br><span class="line"><span class="comment"># 但实际上我们还没有运行学习算法，所以#上面的这一行将w初始化为0，并定义损失函数，我们定义train为学习算法，</span></span><br><span class="line"><span class="comment"># 它用梯度下降法优化器使损失函数最小化，但实际上我们还没有运行学习算法，所以session.run(w)评估了w，让我：：</span></span><br><span class="line">print(session.run(w))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1000</span>):</span><br><span class="line">    session.run(train)</span><br><span class="line">    print(session.run(w))</span><br></pre></td></tr></table></figure><h5 id="对于-x-可变的处理"><a href="#对于-x-可变的处理" class="headerlink" title="对于$x$可变的处理"></a>对于<code>$x$</code>可变的处理</h5><p>TensorFlow还有一个特点，我想告诉你，那就是这个例子将<code>$w$</code>的一个固定函数最小化了。如果你想要最小化的函数是训练集函数又如何呢？不管你有什么训练数据<code>$x$</code>，当你训练神经网络时，训练数据<code>$x$</code>会改变，那么如何把训练数据加入TensorFlow程序呢？</p><p>训练数据有<code>$x$</code>和<code>$y$</code>，但这个例子中只有<code>$x$</code>，把定义为：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 此函数可以理解为形参，用于定义过程，在执行的时候再赋具体的值</span></span><br><span class="line">x = tf.placeholder(tf.float32,[<span class="number">3</span>,<span class="number">1</span>])</span><br></pre></td></tr></table></figure><p>使用如下代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">coefficient = np.array([[<span class="number">1.</span>], [<span class="number">-20.</span>], [<span class="number">100.</span>]])</span><br><span class="line">x = tf.placeholder(dtype=tf.float32, shape=(<span class="number">3</span>, <span class="number">1</span>))</span><br><span class="line"><span class="comment"># 接下来，让我们定义参数w，在TensorFlow中，你要用tf.Variable()来定义参数</span></span><br><span class="line">w = tf.Variable(<span class="number">0</span>, dtype=tf.float32)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 然后我们定义损失函数 Jw = w^2-10*w+25：</span></span><br><span class="line"><span class="comment"># cost = tf.add(tf.add(w**2, tf.multiply(-10., w), 25))</span></span><br><span class="line">cost = x[<span class="number">0</span>][<span class="number">0</span>] * w ** <span class="number">2</span> + x[<span class="number">1</span>][<span class="number">0</span>] * w + x[<span class="number">2</span>][<span class="number">0</span>] * <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># (让我们用0.01的学习率，目标是最小化损失)。</span></span><br><span class="line">train = tf.train.GradientDescentOptimizer(<span class="number">0.01</span>).minimize(cost)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 最后下面的几行是惯用表达式:</span></span><br><span class="line"></span><br><span class="line">init = tf.global_variables_initializer()</span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> session:</span><br><span class="line">    <span class="comment"># session = tf.Session()  # 这样就开启了一个TensorFlow session。</span></span><br><span class="line">    session.run(init)  <span class="comment"># 来初始化全局变量。</span></span><br><span class="line">    session.run(w)  <span class="comment"># 然后让TensorFlow评估一个变量，我们要用到:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 上面的这一行将w初始化为0，并定义损失函数，我们定义train为学习算法，它用梯度下降法优化器使损失函数最小化，</span></span><br><span class="line">    <span class="comment"># 但实际上我们还没有运行学习算法，所以#上面的这一行将w初始化为0，并定义损失函数，我们定义train为学习算法，</span></span><br><span class="line">    <span class="comment"># 它用梯度下降法优化器使损失函数最小化，但实际上我们还没有运行学习算法，所以session.run(w)评估了w，让我：：</span></span><br><span class="line">    print(session.run(w))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1000</span>):</span><br><span class="line">        session.run(train,feed_dict=&#123;x: coefficient&#125;)</span><br><span class="line">    print(session.run(w))</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ConfigParser的使用</title>
      <link href="/2018/10/20/ConfigParser%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2018/10/20/ConfigParser%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h5 id="配置文件格式"><a href="#配置文件格式" class="headerlink" title="配置文件格式"></a>配置文件格式</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 注释</span><br><span class="line"></span><br><span class="line">[Section1]</span><br><span class="line">an_int = 15</span><br><span class="line">a_bool = true</span><br><span class="line">a_float = 3.1415</span><br><span class="line">baz = fun</span><br><span class="line">bar = Python</span><br><span class="line">foo = %(bar)s is %(baz)s!</span><br><span class="line"></span><br><span class="line">#:和=都可以用与赋值</span><br><span class="line">[My Section]</span><br><span class="line">foodir: %(dir)s/whatever</span><br><span class="line">dir=frob</span><br><span class="line"># : 的fishier可以换行</span><br><span class="line">long: this value continues</span><br><span class="line">   in the next line</span><br></pre></td></tr></table></figure><h5 id="读取文件方法"><a href="#读取文件方法" class="headerlink" title="读取文件方法"></a>读取文件方法</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ConfigParser</span><br><span class="line"></span><br><span class="line">config = ConfigParser.RawConfigParser()</span><br><span class="line">config.read(<span class="string">'test.cfg'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># getfloat() raises an exception if the value is not a float</span></span><br><span class="line"><span class="comment"># getint() and getboolean() also do this for their respective types</span></span><br><span class="line">a_float = config.getfloat(<span class="string">'Section1'</span>, <span class="string">'a_float'</span>)</span><br><span class="line">an_int = config.getint(<span class="string">'Section1'</span>, <span class="string">'an_int'</span>)</span><br><span class="line"><span class="keyword">print</span> a_float + an_int</span><br></pre></td></tr></table></figure><h5 id="读取并且赋值"><a href="#读取并且赋值" class="headerlink" title="读取并且赋值"></a>读取并且赋值</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ConfigParser</span><br><span class="line">config = ConfigParser.ConfigParser()</span><br><span class="line">config.read(<span class="string">'test.cfg'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the third, optional argument of get to 1 if you wish to use raw mode.</span></span><br><span class="line"><span class="keyword">print</span> config.get(<span class="string">'Section1'</span>, <span class="string">'foo'</span>, <span class="number">0</span>)  <span class="comment"># -&gt; "Python is fun!"</span></span><br><span class="line"><span class="keyword">print</span> config.get(<span class="string">'Section1'</span>, <span class="string">'foo'</span>, <span class="number">1</span>)  <span class="comment"># -&gt; "%(bar)s is %(baz)s!"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The optional fourth argument is a dict with members that will take</span></span><br><span class="line"><span class="comment"># precedence in interpolation.</span></span><br><span class="line"><span class="keyword">print</span> config.get(<span class="string">'Section1'</span>, <span class="string">'foo'</span>, <span class="number">0</span>, &#123;<span class="string">'bar'</span>: <span class="string">'Documentation'</span>,</span><br><span class="line">                                        <span class="string">'baz'</span>: <span class="string">'evil'</span>&#125;)</span><br></pre></td></tr></table></figure><h5 id="写入文件"><a href="#写入文件" class="headerlink" title="写入文件"></a>写入文件</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ConfigParser</span><br><span class="line"></span><br><span class="line">config = ConfigParser.RawConfigParser()</span><br><span class="line"></span><br><span class="line"><span class="comment"># When adding sections or items, add them in the reverse order of</span></span><br><span class="line"><span class="comment"># how you want them to be displayed in the actual file.</span></span><br><span class="line"><span class="comment"># In addition, please note that using RawConfigParser's and the raw</span></span><br><span class="line"><span class="comment"># mode of ConfigParser's respective set functions, you can assign</span></span><br><span class="line"><span class="comment"># non-string values to keys internally, but will receive an error</span></span><br><span class="line"><span class="comment"># when attempting to write to a file or when you get it in non-raw</span></span><br><span class="line"><span class="comment"># mode. SafeConfigParser does not allow such assignments to take place.</span></span><br><span class="line">config.add_section(<span class="string">'Section1'</span>)</span><br><span class="line">config.set(<span class="string">'Section1'</span>, <span class="string">'an_int'</span>, <span class="string">'15'</span>)</span><br><span class="line">config.set(<span class="string">'Section1'</span>, <span class="string">'a_bool'</span>, <span class="string">'true'</span>)</span><br><span class="line">config.set(<span class="string">'Section1'</span>, <span class="string">'a_float'</span>, <span class="string">'3.1415'</span>)</span><br><span class="line">config.set(<span class="string">'Section1'</span>, <span class="string">'baz'</span>, <span class="string">'fun'</span>)</span><br><span class="line">config.set(<span class="string">'Section1'</span>, <span class="string">'bar'</span>, <span class="string">'Python'</span>)</span><br><span class="line">config.set(<span class="string">'Section1'</span>, <span class="string">'foo'</span>, <span class="string">'%(bar)s is %(baz)s!'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Writing our configuration file to 'example.cfg'</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'example.cfg'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> configfile:</span><br><span class="line">    config.write(configfile)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>getopt的使用</title>
      <link href="/2018/10/20/getopt%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2018/10/20/getopt%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="python中-getopt-模块"><a href="#python中-getopt-模块" class="headerlink" title="python中 getopt 模块"></a>python中 getopt 模块</h3><ul><li>该模块是专门用来处理命令行参数的</li></ul><h5 id="函数getopt-args-shortopts-longopts"><a href="#函数getopt-args-shortopts-longopts" class="headerlink" title="函数getopt(args, shortopts, longopts = [])"></a>函数getopt(args, shortopts, longopts = [])</h5><p>参数args一般是sys.argv[1:]</p><ol><li>shortopts  短格式 (-) </li><li>longopts 长格式(–) </li></ol><p>命令行中输入：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python test.py -i 127.0.0.1 -p 80 55 66</span><br><span class="line"></span><br><span class="line">python test.py --ip=127.0.0.1 --port=80 55 66</span><br></pre></td></tr></table></figure><p>下面的代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">options,args = getopt.getopt(sys.argv[<span class="number">1</span>:],<span class="string">"hp:i:"</span>,[<span class="string">"help"</span>,<span class="string">"ip="</span>,<span class="string">"port="</span>])</span><br><span class="line"><span class="keyword">except</span> getopt.GetoptError:</span><br><span class="line">sys.exit()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name,value <span class="keyword">in</span> options:</span><br><span class="line"><span class="keyword">if</span> name <span class="keyword">in</span> (<span class="string">"-h"</span>,<span class="string">"--help"</span>):</span><br><span class="line">usage()</span><br><span class="line"><span class="keyword">if</span> name <span class="keyword">in</span> (<span class="string">"-i"</span>,<span class="string">"--ip"</span>):</span><br><span class="line"><span class="keyword">print</span> <span class="string">'ip is----'</span>,value</span><br><span class="line"><span class="keyword">if</span> name <span class="keyword">in</span> (<span class="string">"-p"</span>,<span class="string">"--port"</span>)</span><br><span class="line"><span class="keyword">print</span> <span class="string">'port is----'</span>,value</span><br><span class="line"></span><br><span class="line">options,args = getopt.getopt(sys.argv[<span class="number">1</span>:],<span class="string">"hp:i:"</span>,[<span class="string">"help"</span>,<span class="string">"ip="</span>,<span class="string">"port="</span>])</span><br></pre></td></tr></table></figure><h6 id="“hp-i-”"><a href="#“hp-i-”" class="headerlink" title="“hp:i:”"></a>“hp:i:”</h6><ul><li>短格式 — h 后面没有冒号：表示后面不带参数，p：和 i：后面有冒号表示后面需要参数</li></ul><h6 id="“help”-”ip-”-”port-”"><a href="#“help”-”ip-”-”port-”" class="headerlink" title="[“help”,”ip=”,”port=”]"></a>[“help”,”ip=”,”port=”]</h6><ul><li><p>长格式 — help后面没有等号=，表示后面不带参数，其他三个有=，表示后面需要参数</p></li><li><p>返回值 options 是个包含元祖的列表，每个元祖是分析出来的格式信息，比如 [(‘-i’,’127.0.0.1’),(‘-p’,’80’)] ;</p></li><li><p>args 是个列表，包含那些没有‘-’或‘–’的参数，比如：[‘55’,’66’]</p></li></ul><blockquote><p>注意：定义命令行参数时，要先定义带’-‘选项的参数，再定义没有‘-’的参数</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pymongo的简单使用案例</title>
      <link href="/2018/10/20/pymongo%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B/"/>
      <url>/2018/10/20/pymongo%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="用于mongodb和pandas的通用连接"><a href="#用于mongodb和pandas的通用连接" class="headerlink" title="用于mongodb和pandas的通用连接"></a>用于mongodb和pandas的通用连接</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pymongo <span class="keyword">import</span> MongoClient</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_connect_mongo</span><span class="params">(host, port, username, password, db)</span>:</span></span><br><span class="line">    <span class="string">""" A util for making a connection to mongo """</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> username <span class="keyword">and</span> password:</span><br><span class="line">        mongo_uri = <span class="string">'mongodb://%s:%s@%s:%s/%s'</span> % (username, password, host, port, db)</span><br><span class="line">        conn = MongoClient(mongo_uri)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        conn = MongoClient(host, port)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> conn[db]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_mongo</span><span class="params">(db, collection, query=&#123;&#125;, host=<span class="string">'localhost'</span>, port=<span class="number">27017</span>, username=None, password=None, no_id=True)</span>:</span></span><br><span class="line">    <span class="string">""" Read from Mongo and Store into DataFrame """</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Connect to MongoDB</span></span><br><span class="line">    db = _connect_mongo(host=host, port=port, username=username, password=password, db=db)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Make a query to the specific DB and Collection</span></span><br><span class="line">    cursor = db[collection].find(query)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Expand the cursor and construct the DataFrame</span></span><br><span class="line">    df =  pd.DataFrame(list(cursor))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Delete the _id</span></span><br><span class="line">    <span class="keyword">if</span> no_id:</span><br><span class="line">        <span class="keyword">del</span> df[<span class="string">'_id'</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> df</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ ==<span class="string">'__main__'</span>:</span><br><span class="line">    df = read_mongo(<span class="string">'zhihu'</span>,<span class="string">'questions'</span>,&#123;&#125;)</span><br><span class="line">    <span class="keyword">print</span> df</span><br></pre></td></tr></table></figure><blockquote><p>注意:上面的db是用户认证的数据库,而不是用户使用的数据库</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于pandas的使用</title>
      <link href="/2018/10/20/%E5%85%B3%E4%BA%8Epandas%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2018/10/20/%E5%85%B3%E4%BA%8Epandas%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h5 id="初始化数据"><a href="#初始化数据" class="headerlink" title="初始化数据"></a>初始化数据</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(list(project_info.find()))</span><br></pre></td></tr></table></figure><h5 id="删除字段"><a href="#删除字段" class="headerlink" title="删除字段"></a>删除字段</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">del</span> df[<span class="string">'_id'</span>]</span><br></pre></td></tr></table></figure><h5 id="选择需要显示的字段"><a href="#选择需要显示的字段" class="headerlink" title="选择需要显示的字段"></a>选择需要显示的字段</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = data[[<span class="string">'aear'</span>,<span class="string">'cate'</span>,<span class="string">'subcate'</span>,<span class="string">'name'</span>,<span class="string">'maxmoney'</span>,<span class="string">'minmoney'</span>,<span class="string">'time'</span>]]</span><br></pre></td></tr></table></figure><h5 id="显示前n条记录"><a href="#显示前n条记录" class="headerlink" title="显示前n条记录"></a>显示前n条记录</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.head(n)</span><br></pre></td></tr></table></figure><h5 id="使用groupby实现数据分组"><a href="#使用groupby实现数据分组" class="headerlink" title="使用groupby实现数据分组"></a>使用groupby实现数据分组</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这个时候并不是DataFrame类型,可以根据某个字段分组</span></span><br><span class="line">group = df.groupby(<span class="string">'name'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以使用size()记录分组数量,并且用sort_values(ascending=False)降序</span></span><br><span class="line">sort_group = group.size().sort_values(ascending=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># sorted_series.keys()表示取出所有的keys,sorted_series存储的为values</span></span><br><span class="line"><span class="comment"># 可以使用iteritems()遍历</span></span><br><span class="line"><span class="keyword">for</span> userid, length <span class="keyword">in</span> sort_group.iteritems():</span><br><span class="line">    print(<span class="string">'%d:%d'</span> % (userid, length))</span><br></pre></td></tr></table></figure><h5 id="pandas-Series-diff"><a href="#pandas-Series-diff" class="headerlink" title="pandas.Series.diff"></a>pandas.Series.diff</h5><blockquote><p>计算Series元素与Series中另一个元素的差异（默认值为上一行中的元素）。</p></blockquote><h6 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax:"></a>Syntax:</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Series.diff(periods=1)</span><br><span class="line"></span><br><span class="line">Parameters:</span><br><span class="line">periods : int, default 1.Periods to shift for calculating difference, accepts negative values.</span><br></pre></td></tr></table></figure><h6 id="Code"><a href="#Code" class="headerlink" title="Code:"></a>Code:</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>])</span><br><span class="line">s.diff()</span><br></pre></td></tr></table></figure><h6 id="Output"><a href="#Output" class="headerlink" title="Output:"></a>Output:</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span>    NaN</span><br><span class="line"><span class="number">1</span>    <span class="number">0.0</span></span><br><span class="line"><span class="number">2</span>    <span class="number">1.0</span></span><br><span class="line"><span class="number">3</span>    <span class="number">1.0</span></span><br><span class="line"><span class="number">4</span>    <span class="number">2.0</span></span><br><span class="line"><span class="number">5</span>    <span class="number">3.0</span></span><br></pre></td></tr></table></figure><h5 id="pandas-DataFrame-apply"><a href="#pandas-DataFrame-apply" class="headerlink" title="pandas.DataFrame.apply"></a>pandas.DataFrame.apply</h5><blockquote><p>沿DataFrame的轴应用函数。。</p></blockquote><h6 id="Syntax-1"><a href="#Syntax-1" class="headerlink" title="Syntax:"></a>Syntax:</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DataFrame.apply(func, axis=0, broadcast=None, raw=False, reduce=None, result_type=None, args=(), **kwds)</span><br><span class="line"></span><br><span class="line">Parameters:</span><br><span class="line">func : function.Function to apply to each column or row.</span><br><span class="line">axis : &#123;0 or ‘index’, 1 or ‘columns’&#125;, default 0</span><br><span class="line">        Axis along which the function is applied:</span><br><span class="line">        0 or ‘index’: apply function to each column.</span><br><span class="line">        1 or ‘columns’: apply function to each row.</span><br></pre></td></tr></table></figure><h6 id="Code-1"><a href="#Code-1" class="headerlink" title="Code:"></a>Code:</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>df = pd.DataFrame([[<span class="number">4</span>, <span class="number">9</span>],] * <span class="number">3</span>, columns=[<span class="string">'A'</span>, <span class="string">'B'</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>df</span><br><span class="line">   A  B</span><br><span class="line"><span class="number">0</span>  <span class="number">4</span>  <span class="number">9</span></span><br><span class="line"><span class="number">1</span>  <span class="number">4</span>  <span class="number">9</span></span><br><span class="line"><span class="number">2</span>  <span class="number">4</span>  <span class="number">9</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>df.apply(np.sum, axis=<span class="number">0</span>)</span><br><span class="line">A    <span class="number">12</span></span><br><span class="line">B    <span class="number">27</span></span><br><span class="line">dtype: int64</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>df.apply(np.sum, axis=<span class="number">1</span>)</span><br><span class="line"><span class="number">0</span>    <span class="number">13</span></span><br><span class="line"><span class="number">1</span>    <span class="number">13</span></span><br><span class="line"><span class="number">2</span>    <span class="number">13</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure><blockquote><p>筛选</p></blockquote><h6 id="Code-2"><a href="#Code-2" class="headerlink" title="Code:"></a>Code:</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 用于筛选某一列在list中存在数据</span></span><br><span class="line">df = pd.read_csv(file_path)</span><br><span class="line">l = [<span class="string">'a'</span>,<span class="string">'b'</span>]</span><br><span class="line">df = df[df[<span class="string">'name'</span>].isin(l)]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>selenium的使用</title>
      <link href="/2018/10/12/selenium%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2018/10/12/selenium%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="selenium的一些使用"><a href="#selenium的一些使用" class="headerlink" title="selenium的一些使用"></a>selenium的一些使用</h3><h5 id="Simple-test"><a href="#Simple-test" class="headerlink" title="Simple test"></a>Simple test</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome(<span class="string">'/path/to/chromedriver'</span>)  <span class="comment"># Optional argument, if not specified will search path.</span></span><br><span class="line">driver.get(<span class="string">'http://www.google.com/xhtml'</span>);</span><br><span class="line">time.sleep(<span class="number">5</span>) <span class="comment"># Let the user actually see something!</span></span><br><span class="line">search_box = driver.find_element_by_name(<span class="string">'q'</span>)</span><br><span class="line">search_box.send_keys(<span class="string">'ChromeDriver'</span>)</span><br><span class="line">search_box.submit()</span><br><span class="line">time.sleep(<span class="number">5</span>) <span class="comment"># Let the user actually see something!</span></span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure><h5 id="简单交互"><a href="#简单交互" class="headerlink" title="简单交互"></a>简单交互</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 加载网页</span></span><br><span class="line">driver.get(<span class="string">"http://www.google.com"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取网页元素</span></span><br><span class="line">element = driver.find_element_by_id(<span class="string">"passwd-id"</span>)</span><br><span class="line">element = driver.find_element_by_name(<span class="string">"passwd"</span>)</span><br><span class="line">element = driver.find_element_by_xpath(<span class="string">"//input[@id='passwd-id']"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输入文本框</span></span><br><span class="line">element.send_keys(<span class="string">"some text"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输入按键</span></span><br><span class="line">element.send_keys(<span class="string">" and some"</span>, Keys.ARROW_DOWN)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 清空文本</span></span><br><span class="line">element.clear()</span><br></pre></td></tr></table></figure><h5 id="填写表格"><a href="#填写表格" class="headerlink" title="填写表格"></a>填写表格</h5><p>你可以“切换”下拉菜单的状态，并且你可以使用“setSelected”来设置类似于所选OPTION标记的内容。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">element = driver.find_element_by_xpath(<span class="string">"//select[@name='name']"</span>)</span><br><span class="line">all_options = element.find_elements_by_tag_name(<span class="string">"option"</span>)</span><br><span class="line"><span class="keyword">for</span> option <span class="keyword">in</span> all_options:</span><br><span class="line">    print(<span class="string">"Value is: %s"</span> % option.get_attribute(<span class="string">"value"</span>))</span><br><span class="line">    option.click()</span><br></pre></td></tr></table></figure><p>正如你所看到的，这不是处理SELECT元素的最有效方式。 WebDriver的支持类包括一个名为“Select”的类，它提供了与这些类交互的有用方法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> Select</span><br><span class="line">select = Select(driver.find_element_by_name(<span class="string">'name'</span>))</span><br><span class="line">select.select_by_index(index)</span><br><span class="line">select.select_by_visible_text(<span class="string">"text"</span>)</span><br><span class="line">select.select_by_value(value)</span><br><span class="line"></span><br><span class="line"><span class="comment"># WebDriver还提供取消选择所有选定选项的功能：</span></span><br><span class="line">select = Select(driver.find_element_by_id(<span class="string">'id'</span>))</span><br><span class="line">select.deselect_all()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 假设在测试中，我们需要所有默认选定选项的列表，Select类提供了一个返回列表的属性方法：</span></span><br><span class="line">select = Select(driver.find_element_by_xpath(<span class="string">"//select[@name='name']"</span>))</span><br><span class="line">all_selected_options = select.all_selected_options</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取所有可用选项：</span></span><br><span class="line">options = select.options</span><br><span class="line"></span><br><span class="line"><span class="comment"># 完成表格填写后，您可能需要提交。一种方法是找到“提交”按钮并点击它：</span></span><br><span class="line"><span class="comment"># Assume the button has the ID "submit" :)</span></span><br><span class="line">driver.find_element_by_id(<span class="string">"submit"</span>).click()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提交表单</span></span><br><span class="line">element.submit()</span><br></pre></td></tr></table></figure><h5 id="高级部分"><a href="#高级部分" class="headerlink" title="高级部分"></a>高级部分</h5><p>对于页面的操作来说，最最重要的就是获取元素，以下列出使用时遇到的一些关于获取元素的问题：</p><ul><li><p>问题1：模拟登录的时候，获取不到表单中的元素</p></li><li><p>解答：由于很多网页比如淘宝，qq邮箱，网易邮箱，百度账号，网易考拉等等，登录框是由iframe嵌入的，所以没有直接获取是找不到的，需要切换到iframe中。</p></li><li><p>代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iframe = login_box.find_element_by_css_selector(<span class="string">'iframe'</span>)</span><br><span class="line">driver.switch_to.frame(iframe)</span><br></pre></td></tr></table></figure></li><li><p>问题2：对于复杂深层的元素，怎样快速准确的获取</p></li><li><p>解答：这个问题其实没有统一的答案，但是我推荐使用google自带的css_selector，可以有效的选择元素，比如我在网易考拉上遇到的问题：</p></li><li><p>代码：</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># #j_skuwrap &gt; div.skuBox.clearfix.first-skubox.last-skuBox &gt; div &gt; ul &gt; li:nth-child(1) &gt; a</span></span><br><span class="line">driver.find_elements_by_css_selector(<span class="string">'#j_skuwrap &gt; div.skuBox.clearfix.first-skubox.last-skuBox &gt; div &gt; ul &gt; li:nth-child(1) &gt; a'</span>)[<span class="number">0</span>].click()</span><br></pre></td></tr></table></figure><ul><li>问题3：打开一个新的界面，如何跳转</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">windows = driver.window_handles</span><br><span class="line">driver.switch_to.window(windows[<span class="number">-1</span>])</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>STL标准模版库</title>
      <link href="/2018/08/09/STL%E6%A0%87%E5%87%86%E6%A8%A1%E7%89%88%E5%BA%93/"/>
      <url>/2018/08/09/STL%E6%A0%87%E5%87%86%E6%A8%A1%E7%89%88%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h5 id="string"><a href="#string" class="headerlink" title="string"></a>string</h5><ul><li><p>可以通过printf输出</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> str = <span class="string">"abcd"</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%s\n"</span>,str.c_str())</span><br></pre></td></tr></table></figure></li><li><p>It can use operator ‘+’ to add two string variable</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">stirng str1 = <span class="string">"abc"</span>, str2 = <span class="string">"xyz"</span>, str3;</span><br><span class="line">str3 = str1 + str2;</span><br></pre></td></tr></table></figure></li></ul><p>-Two string type variables can be directly compared using ==, &lt;&gt;, and the comparison rule is alphabet order.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">stirng str1 = <span class="string">"abc"</span>, str2 = <span class="string">"xyz"</span>;</span><br><span class="line"><span class="keyword">if</span>(str2&gt;str1) <span class="built_in">printf</span>(<span class="string">"OK!\n"</span>);</span><br><span class="line"><span class="comment">// The result is the "OK!" will be print.</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>conda命令的使用</title>
      <link href="/2018/05/06/conda%E5%91%BD%E4%BB%A4%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2018/05/06/conda%E5%91%BD%E4%BB%A4%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="Conda常用命令整理"><a href="#Conda常用命令整理" class="headerlink" title="Conda常用命令整理"></a>Conda常用命令整理</h3><h5 id="0-获取版本号"><a href="#0-获取版本号" class="headerlink" title="0.获取版本号"></a>0.获取版本号</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda --version</span><br><span class="line">conda -V</span><br></pre></td></tr></table></figure><h5 id="1-获取帮助"><a href="#1-获取帮助" class="headerlink" title="1. 获取帮助"></a>1. 获取帮助</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda --help</span><br><span class="line">conda -h</span><br></pre></td></tr></table></figure><ul><li>查看某一命令的帮助，如update命令及remove命令</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda update --help</span><br><span class="line">conda remove --help</span><br></pre></td></tr></table></figure><blockquote><p>同理，以上命令中的–help也可以换成-h。</p></blockquote><h5 id="2-环境管理"><a href="#2-环境管理" class="headerlink" title="2.环境管理"></a>2.环境管理</h5><ul><li>查看环境管理的全部命令帮助</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda env -h</span><br></pre></td></tr></table></figure><ul><li>创建环境</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create --name your_env_name</span><br></pre></td></tr></table></figure><p>输入y确认创建。</p><ul><li>创建制定python版本的环境</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda create --name your_env_name python=2.7</span><br><span class="line">conda create --name your_env_name python=3</span><br><span class="line">conda create --name your_env_name python=3.5</span><br></pre></td></tr></table></figure><ul><li>创建包含某些包的环境</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create --name your_env_name numpy scipy</span><br></pre></td></tr></table></figure><ul><li>创建指定python版本下包含某些包的环境</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create --name your_env_name python=3.6 numpy scipy</span><br></pre></td></tr></table></figure><ul><li>列举当前所有环境</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda info --envs</span><br><span class="line">conda env list</span><br></pre></td></tr></table></figure><ul><li>进入某个环境</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">activate your_env_name</span><br></pre></td></tr></table></figure><ul><li>退出当前环境</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source deactivate</span><br></pre></td></tr></table></figure><ul><li>复制某个环境</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create --name new_env_name --clone old_env_name</span><br></pre></td></tr></table></figure><ul><li>删除某个环境</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda remove --name your_env_name --all</span><br></pre></td></tr></table></figure><h5 id="3-分享环境"><a href="#3-分享环境" class="headerlink" title="3.分享环境"></a>3.分享环境</h5><p>如果你想把你当前的环境配置与别人分享，这样ta可以快速建立一个与你一模一样的环境（同一个版本的<code>python</code>及各种包）来共同开发/进行新的实验。一个分享环境的快速方法就是给ta一个你的环境的<code>.yml</code>文件。</p><p>首先通过<code>activate target_env</code>要分享的环境<code>target_env</code>，然后输入下面的命令会在当前工作目录下生成一个<code>environment.yml</code>文件，</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda env export &gt; environment.yml</span><br></pre></td></tr></table></figure><p>小伙伴拿到<code>environment.yml</code>文件后，将该文件放在工作目录下，可以通过以下命令从该文件创建环境</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda env create -f environment.yml</span><br></pre></td></tr></table></figure><p>当然，你也可以手写一个<code>.yml</code>文件用来描述或记录你的<code>python</code>环境。</p><h5 id="4-包管理"><a href="#4-包管理" class="headerlink" title="4.包管理"></a>4.包管理</h5><ul><li>列举当前活跃环境下的所有包</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda list</span><br></pre></td></tr></table></figure><ul><li>列举一个非当前活跃环境下的所有包</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda list -n your_env_name</span><br></pre></td></tr></table></figure><ul><li>为指定环境安装某个包</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install -n env_name package_name</span><br></pre></td></tr></table></figure><blockquote><p>如果不能通过<code>conda install</code>来安装，文档中提到可以从<code>Anaconda.org</code>安装，但我觉得会更习惯用<code>pip</code>直接安装。<code>pip</code>在<code>Anaconda</code>中已安装好，不需要单独为每个环境安装<code>pip</code>。如需要用<code>pip</code>管理包，<code>activate</code>环境后直接使用即可。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 操作系统 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OSX相关命令</title>
      <link href="/2018/04/08/OSX%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/"/>
      <url>/2018/04/08/OSX%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>这里的命令只用于OSX(苹果系统)</p></blockquote><h3 id="Homebrew"><a href="#Homebrew" class="headerlink" title="Homebrew"></a>Homebrew</h3><h4 id="Homebrew安装"><a href="#Homebrew安装" class="headerlink" title="Homebrew安装"></a>Homebrew安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/ruby -e <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>"</span></span><br></pre></td></tr></table></figure><h4 id="Homebrew卸载"><a href="#Homebrew卸载" class="headerlink" title="Homebrew卸载"></a>Homebrew卸载</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/ruby -e <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)</span>"</span></span><br></pre></td></tr></table></figure><h4 id="Homebrew常用命令列表"><a href="#Homebrew常用命令列表" class="headerlink" title="Homebrew常用命令列表"></a>Homebrew常用命令列表</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">brew <span class="built_in">help</span> <span class="comment">#查看所有命令</span></span><br><span class="line">brew search mysql <span class="comment">#搜索</span></span><br><span class="line">brew install mysql <span class="comment">#安装软件</span></span><br><span class="line">brew uninstall mysql <span class="comment">#卸载软件</span></span><br><span class="line">brew list <span class="comment">#显示已经安装软件列表</span></span><br><span class="line">brew services list <span class="comment">#显示安装的服务</span></span><br><span class="line">brew info mysql <span class="comment">#查看信息，比如目前的版本，依赖，安装后注意事项等</span></span><br></pre></td></tr></table></figure><h4 id="Homebrew一般命令列表"><a href="#Homebrew一般命令列表" class="headerlink" title="Homebrew一般命令列表"></a>Homebrew一般命令列表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">brew services start mysql #启动</span><br><span class="line">brew services stop mysql #停止)</span><br><span class="line">brew services restart mysql #重启)</span><br><span class="line">brew update #更新 Homebrew</span><br><span class="line">brew outdated #列出所有安装的软件里可以升级的那些</span><br><span class="line">brew upgrade #更新所有的包</span><br><span class="line">brew upgrade $mysql #更新指定的包</span><br><span class="line">brew cleanup # 清理所有包的旧版本</span><br><span class="line">brew cleanup $mysql #清理指定包的旧版本</span><br><span class="line">brew cleanup -n #查看可清理的旧版本包，不执行实际操作</span><br><span class="line">which brew #查看 brew 命令的路径</span><br><span class="line">brew home mysql #用浏览器打开官方主页</span><br></pre></td></tr></table></figure><h4 id="Homebrew锁定不想更新的包"><a href="#Homebrew锁定不想更新的包" class="headerlink" title="Homebrew锁定不想更新的包"></a>Homebrew锁定不想更新的包</h4><p>如果经常更新的话，brew update 一次更新所有的包是非常方便的。但我们有时候会担心自动升级把一些不希望更新的包更新了。数据库就属于这一类，尤其是 PostgreSQL 跨 minor 版本升级都要迁移数据库的。我们更希望找个时间单独处理它。这时可用 brew pin 去锁定这个包，然后 brew update 就会略过它了，用到的命令如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">brew pin $FORMULA #锁定某个包</span><br><span class="line">brew unpin $FORMULA # 取消锁定</span><br><span class="line">brew deps #查看包的依赖关系，常用它来查看已安装的包的依赖，然后判断哪些包是可以安全删除的。</span><br><span class="line">brew deps --installed --tree #查看已安装的包的依赖，树形显示</span><br></pre></td></tr></table></figure><h4 id="Homebrew-扩展推荐-brew-cask"><a href="#Homebrew-扩展推荐-brew-cask" class="headerlink" title="Homebrew 扩展推荐(brew cask)"></a>Homebrew 扩展推荐(brew cask)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">brew cask search    # 列出所有可以被安装的软件</span><br><span class="line">brew cask search name   # 查找所有和 name相关的应用</span><br><span class="line">brew cask install name  # 下载安装软件</span><br><span class="line">brew cask uninstall name    # 卸载软件</span><br><span class="line">brew cask info app  # 列出应用的信息</span><br><span class="line">brew cask list  # 列出本机安装过的软件列表</span><br><span class="line">brew cask cleanup   # 清除下载的缓存以及各种链接信息</span><br><span class="line">brew cask uninstall name &amp;&amp; brew cask install name    ＃更新程序 （目前homebrew-cask 并没有命令直接更新已安装的软件，软件更新主要是通过软件自身的完成更新）</span><br></pre></td></tr></table></figure><h4 id="Homebrew-扩展推荐-brew-cask-upgrade"><a href="#Homebrew-扩展推荐-brew-cask-upgrade" class="headerlink" title="Homebrew 扩展推荐(brew-cask-upgrade)"></a>Homebrew 扩展推荐(<a href="https://github.com/buo/homebrew-cask-upgrade" target="_blank" rel="noopener">brew-cask-upgrade</a>)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew cu #更新brew cask</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 操作系统 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mac </tag>
            
            <tag> 系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>curl命令的使用</title>
      <link href="/2018/04/05/curl%E5%91%BD%E4%BB%A4%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2018/04/05/curl%E5%91%BD%E4%BB%A4%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl(选项)(参数)</span><br></pre></td></tr></table></figure><h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><h6 id="文件下载"><a href="#文件下载" class="headerlink" title="文件下载"></a>文件下载</h6><blockquote><p>curl命令可以用来执行下载、发送各种HTTP请求，指定HTTP头部等操作。如果系统没有curl可以使用yum install curl安装，也可以下载安装。curl是将下载文件输出到stdout，将进度信息输出到stderr，不显示进度信息使用–silent选项。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl URL --silent</span><br></pre></td></tr></table></figure><blockquote><p>这条命令是将下载文件输出到终端，所有下载的数据都被写入到stdout。<br>使用选项-O将下载的数据写入到文件，必须使用文件的绝对地址：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://man.linuxde.net/text.iso --silent -O</span><br></pre></td></tr></table></figure><blockquote><p>选项-o将下载数据写入到指定名称的文件中，并使用–progress显示进度条：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl http://man.linuxde.net/test.iso -o filename.iso --progress</span><br><span class="line">######################################### 100.0%</span><br></pre></td></tr></table></figure><h6 id="断点续传"><a href="#断点续传" class="headerlink" title="断点续传"></a>断点续传</h6><blockquote><p>curl能够从特定的文件偏移处继续下载，它可以通过指定一个便宜量来下载部分文件：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl URL/File -C 偏移量</span><br><span class="line"></span><br><span class="line">#偏移量是以字节为单位的整数，如果让curl自动推断出正确的续传位置使用-C -：</span><br><span class="line">curl -C -URL</span><br></pre></td></tr></table></figure><h6 id="使用curl设置参照页字符串"><a href="#使用curl设置参照页字符串" class="headerlink" title="使用curl设置参照页字符串"></a>使用curl设置参照页字符串</h6><blockquote><p>参照页是位于HTTP头部中的一个字符串，用来表示用户是从哪个页面到达当前页面的，如果用户点击网页A中的某个连接，那么用户就会跳转到B网页，网页B头部的参照页字符串就包含网页A的URL。</p></blockquote><blockquote><p>使用–referer选项指定参照页字符串：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --referer http://www.google.com http://man.linuxde.net</span><br></pre></td></tr></table></figure><h6 id="用curl设置cookies"><a href="#用curl设置cookies" class="headerlink" title="用curl设置cookies"></a>用curl设置cookies</h6><blockquote><p>使用–cookie “COKKIES”选项来指定cookie，多个cookie使用分号分隔：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://man.linuxde.net --cookie &quot;user=root;pass=123456&quot;</span><br></pre></td></tr></table></figure><blockquote><p>将cookie另存为一个文件，使用–cookie-jar选项：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl URL --cookie-jar cookie_file</span><br></pre></td></tr></table></figure><h6 id="用curl设置用户代理字符串"><a href="#用curl设置用户代理字符串" class="headerlink" title="用curl设置用户代理字符串"></a>用curl设置用户代理字符串</h6><blockquote><p>有些网站访问会提示只能使用IE浏览器来访问，这是因为这些网站设置了检查用户代理，可以使用curl把用户代理设置为IE，这样就可以访问了。使用–user-agent或者-A选项：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl URL --user-agent &quot;Mozilla/5.0&quot;</span><br><span class="line">curl URL -A &quot;Mozilla/5.0&quot;</span><br></pre></td></tr></table></figure><blockquote><p>其他HTTP头部信息也可以使用curl来发送，使用-H”头部信息” 传递多个头部信息，例如：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -H &quot;Host:man.linuxde.net&quot; -H &quot;accept-language:zh-cn&quot; URL</span><br></pre></td></tr></table></figure><h6 id="curl的带宽控制和下载配额"><a href="#curl的带宽控制和下载配额" class="headerlink" title="curl的带宽控制和下载配额"></a>curl的带宽控制和下载配额</h6><blockquote><p>使用–limit-rate限制curl的下载速度：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl URL --limit-rate 50k</span><br></pre></td></tr></table></figure><blockquote><p>命令中用k（千字节）和m（兆字节）指定下载速度限制。</p></blockquote><blockquote><p>使用–max-filesize指定可下载的最大文件大小：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl URL --max-filesize bytes</span><br></pre></td></tr></table></figure><blockquote><p>如果文件大小超出限制，命令则返回一个非0退出码，如果命令正常则返回0。</p></blockquote><h6 id="用curl进行认证"><a href="#用curl进行认证" class="headerlink" title="用curl进行认证"></a>用curl进行认证</h6><blockquote><p>使用curl选项 -u 可以完成HTTP或者FTP的认证，可以指定密码，也可以不指定密码在后续操作中输入密码：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -u user:pwd http://man.linuxde.net</span><br><span class="line">curl -u user http://man.linuxde.net</span><br></pre></td></tr></table></figure><blockquote><p>只打印响应头部信息</p></blockquote><blockquote><p>通过-I或者-head可以只打印出HTTP头部信息：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost text]# curl -I http://man.linuxde.net</span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Server: nginx/1.2.5</span><br><span class="line">date: Mon, 10 Dec 2012 09:24:34 GMT</span><br><span class="line">Content-Type: text/html; charset=UTF-8</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Vary: Accept-Encoding</span><br><span class="line">X-Pingback: http://man.linuxde.net/xmlrpc.php</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 系统命令 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 系统命令 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c语言内存分配</title>
      <link href="/2018/03/04/c%E8%AF%AD%E8%A8%80%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/"/>
      <url>/2018/03/04/c%E8%AF%AD%E8%A8%80%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h5 id="malloc-函数"><a href="#malloc-函数" class="headerlink" title="malloc 函数"></a>malloc 函数</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typename</span>* p = (<span class="keyword">typename</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">typename</span>))</span><br><span class="line"><span class="comment">// 释放内存</span></span><br><span class="line"><span class="built_in">free</span>(p)</span><br></pre></td></tr></table></figure><h6 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h6><blockquote><p>申请内存空间大小(即sizeof(typename))为malloc的参数,malloc会分配一个大小为sizeof(typename)的空间,并返回一个指针指向这个空间,这个指针的类为未确定类型(void<em>),所以要使用(typename</em>)强制转换.</p></blockquote><h5 id="new-函数"><a href="#new-函数" class="headerlink" title="new 函数"></a>new 函数</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typename</span>* p = <span class="keyword">new</span> <span class="keyword">typename</span>;</span><br><span class="line"><span class="comment">// 释放内存</span></span><br><span class="line"><span class="keyword">delete</span>(p)</span><br></pre></td></tr></table></figure><h6 id="说明-1"><a href="#说明-1" class="headerlink" title="说明"></a>说明</h6><blockquote><p>C++中用于申请动态空间.并返回对应类型的指针</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c语言小笔记</title>
      <link href="/2018/03/04/c%E8%AF%AD%E8%A8%80%E5%B0%8F%E7%AC%94%E8%AE%B0/"/>
      <url>/2018/03/04/c%E8%AF%AD%E8%A8%80%E5%B0%8F%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h5 id="sizeof"><a href="#sizeof" class="headerlink" title="sizeof"></a>sizeof</h5><ul><li>用于计算一个变量或一个常量所占的字节数<blockquote><p>注意:sizeof是一运算符</p></blockquote></li></ul><h5 id="getchar"><a href="#getchar" class="headerlink" title="getchar"></a>getchar</h5><ul><li>专门的取字符函数,取一个字符</li></ul><h5 id="关于函数"><a href="#关于函数" class="headerlink" title="关于函数"></a>关于函数</h5><ul><li>是需要在使用前申明,写在main函数中也可以.</li><li>且默认返回值是int<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span>;</span><br></pre></td></tr></table></figure></li></ul><h5 id="include后面的-lt-gt-和””区别"><a href="#include后面的-lt-gt-和””区别" class="headerlink" title="include后面的&lt;&gt;和””区别"></a>include后面的&lt;&gt;和””区别</h5><ul><li>如果使用&lt;&gt;表示先从开发工具的编译环境中去查找，然后再去系统的编译环境中去找</li><li>如果使用””表示现在当前文件夹下面去找，再从开发工具的编译环境中去查找，然后再去系统的编译环境中去找</li></ul><h5 id="h文件不参与编译"><a href="#h文件不参与编译" class="headerlink" title=".h文件不参与编译"></a>.h文件不参与编译</h5><h5 id="进制表示"><a href="#进制表示" class="headerlink" title="进制表示"></a>进制表示</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> num2 = <span class="number">0b1100</span>;  <span class="comment">//表示2进制</span></span><br><span class="line"><span class="keyword">int</span> num8 = <span class="number">014</span>;     <span class="comment">//表示8进制</span></span><br><span class="line"><span class="keyword">int</span> num16 = <span class="number">0x12</span>;   <span class="comment">//表示16进制</span></span><br></pre></td></tr></table></figure><h5 id="进制输出"><a href="#进制输出" class="headerlink" title="进制输出"></a>进制输出</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(%o\n,num8);  <span class="comment">//表示8进制</span></span><br><span class="line"><span class="built_in">printf</span>(%x\n,num16); <span class="comment">//表示16进制</span></span><br></pre></td></tr></table></figure><h5 id="数据存储"><a href="#数据存储" class="headerlink" title="数据存储"></a>数据存储</h5><ul><li>数据以二进制的形式存在内存中</li><li>二进制分为：原码/反码/补码</li><li>最终存储在内存中的是补码<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 9 </span><br><span class="line">// 原码/反码/补码</span><br><span class="line">0000 0000 0000 0000 0000 0000 0000 1001</span><br><span class="line"></span><br><span class="line">// -9</span><br><span class="line">//原码  第一位为符号位</span><br><span class="line">1000 0000 0000 0000 0000 0000 0000 1001</span><br><span class="line">//反码  符号位不变，其他取反</span><br><span class="line">1111 1111 1111 1111 1111 1111 1111 0110</span><br><span class="line">//补码  反码加1</span><br><span class="line">1111 1111 1111 1111 1111 1111 1111 0111</span><br></pre></td></tr></table></figure></li></ul><h5 id="c语言规定字符串是由-0结尾"><a href="#c语言规定字符串是由-0结尾" class="headerlink" title="c语言规定字符串是由\0结尾"></a>c语言规定字符串是由\0结尾</h5><h5 id="结构体占用内存"><a href="#结构体占用内存" class="headerlink" title="结构体占用内存"></a>结构体占用内存</h5><ul><li>结构体占用内存是一定是最大占用属性的倍数</li><li>而且如果剩余内存不够，将从新分配最大占用属性大小的空间</li></ul>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python基本模块</title>
      <link href="/2018/03/01/python%E5%9F%BA%E6%9C%AC%E6%A8%A1%E5%9D%97/"/>
      <url>/2018/03/01/python%E5%9F%BA%E6%9C%AC%E6%A8%A1%E5%9D%97/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h5 id="Enumerate"><a href="#Enumerate" class="headerlink" title="Enumerate()"></a>Enumerate()</h5><blockquote><p>很多时候，在处理迭代器时，我们还需要保持迭代次数。 Python通过为此任务提供内置函数enumerate（）来简化程序员的任务。</p></blockquote><h6 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax:"></a>Syntax:</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">enumerate(iterable, start=0)</span><br><span class="line"></span><br><span class="line">Parameters:</span><br><span class="line">Iterable: any object that supports iteration</span><br><span class="line">Start: the index value from which the counter is </span><br><span class="line">              to be started, by default it is 0</span><br></pre></td></tr></table></figure><h6 id="Code"><a href="#Code" class="headerlink" title="Code:"></a>Code:</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python program to illustrate </span></span><br><span class="line"><span class="comment"># enumerate function in loops </span></span><br><span class="line">l1 = [<span class="string">"eat"</span>,<span class="string">"sleep"</span>,<span class="string">"repeat"</span>] </span><br><span class="line">  </span><br><span class="line"><span class="comment"># printing the tuples in object directly </span></span><br><span class="line"><span class="keyword">for</span> ele <span class="keyword">in</span> enumerate(l1): </span><br><span class="line">    <span class="keyword">print</span> ele </span><br><span class="line"><span class="keyword">print</span> </span><br><span class="line"><span class="comment"># changing index and printing separately </span></span><br><span class="line"><span class="keyword">for</span> count,ele <span class="keyword">in</span> enumerate(l1,<span class="number">100</span>): </span><br><span class="line">    <span class="keyword">print</span> count,ele</span><br></pre></td></tr></table></figure><h6 id="Output"><a href="#Output" class="headerlink" title="Output:"></a>Output:</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">0</span>, <span class="string">'eat'</span>)</span><br><span class="line">(<span class="number">1</span>, <span class="string">'sleep'</span>)</span><br><span class="line">(<span class="number">2</span>, <span class="string">'repeat'</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">100</span> eat</span><br><span class="line"><span class="number">101</span> sleep</span><br><span class="line"><span class="number">102</span> repeat</span><br></pre></td></tr></table></figure><h5 id="getattr"><a href="#getattr" class="headerlink" title="getattr()"></a>getattr()</h5><blockquote><p>getattr() 函数用于返回一个对象属性值。</p></blockquote><h6 id="Syntax-1"><a href="#Syntax-1" class="headerlink" title="Syntax:"></a>Syntax:</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">getattr(object, name[, default])</span><br><span class="line"></span><br><span class="line">Parameters:</span><br><span class="line">object -- 对象。</span><br><span class="line">name -- 字符串，对象属性。</span><br><span class="line">default -- 默认返回值，如果不提供该参数，在没有对应属性时，将触发 AttributeError。</span><br></pre></td></tr></table></figure><h6 id="Code-1"><a href="#Code-1" class="headerlink" title="Code:"></a>Code:</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;<span class="class"><span class="keyword">class</span> <span class="title">A</span><span class="params">(object)</span>:</span></span><br><span class="line"><span class="meta">... </span>    bar = <span class="number">1</span></span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = A()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>getattr(a, <span class="string">'bar'</span>)        <span class="comment"># 获取属性 bar 值</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>getattr(a, <span class="string">'bar2'</span>)       <span class="comment"># 属性 bar2 不存在，触发异常</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">AttributeError: <span class="string">'A'</span> object has no attribute <span class="string">'bar2'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>getattr(a, <span class="string">'bar2'</span>, <span class="number">3</span>)    <span class="comment"># 属性 bar2 不存在，但设置了默认值</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure><h5 id="zip"><a href="#zip" class="headerlink" title="zip()"></a>zip()</h5><blockquote><p>zip() 函数用于将可迭代的对象作为参数，将对象中对应的元素打包成一个个元组，然后返回由这些元组组成的列表。</p><p>如果各个迭代器的元素个数不一致，则返回列表长度与最短的对象相同，利用 * 号操作符，可以将元组解压为列表。</p><p>zip 方法在 Python 2 和 Python 3 中的不同：在 Python 3.x 中为了减少内存，zip() 返回的是一个对象。如需展示列表，需手动 list() 转换。</p></blockquote><h6 id="Syntax-2"><a href="#Syntax-2" class="headerlink" title="Syntax:"></a>Syntax:</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">zip([iterable, ...])</span><br><span class="line"></span><br><span class="line">Parameters:</span><br><span class="line">iterabl -- 一个或多个迭代器;</span><br></pre></td></tr></table></figure><h6 id="Code-2"><a href="#Code-2" class="headerlink" title="Code:"></a>Code:</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>zipped = zip(a,b)     <span class="comment"># 打包为元组的列表</span></span><br><span class="line">[(<span class="number">1</span>, <span class="number">4</span>), (<span class="number">2</span>, <span class="number">5</span>), (<span class="number">3</span>, <span class="number">6</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>zip(a,c)              <span class="comment"># 元素个数与最短的列表一致</span></span><br><span class="line">[(<span class="number">1</span>, <span class="number">4</span>), (<span class="number">2</span>, <span class="number">5</span>), (<span class="number">3</span>, <span class="number">6</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>zip(*zipped)          <span class="comment"># 与 zip 相反，*zipped 可理解为解压，返回二维矩阵式</span></span><br><span class="line">[(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), (<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)]</span><br></pre></td></tr></table></figure><h5 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h5><blockquote><p>filter() 函数用于过滤序列，过滤掉不符合条件的元素，返回由符合条件元素组成的新列表。</p><p>该接收两个参数，第一个为函数，第二个为序列，序列的每个元素作为参数传递给函数进行判，然后返回 True 或 False，最后将返回 True 的元素放到新列表中。</p><p>注意: Pyhton2.7 返回列表，Python3.x 返回迭代器对象，</p></blockquote><h6 id="Syntax-3"><a href="#Syntax-3" class="headerlink" title="Syntax:"></a>Syntax:</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">filter(function, iterable)</span><br><span class="line"></span><br><span class="line">Parameters:</span><br><span class="line">function -- 判断函数。</span><br><span class="line">iterable -- 可迭代对象。</span><br></pre></td></tr></table></figure><h6 id="Code-3"><a href="#Code-3" class="headerlink" title="Code:"></a>Code:</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="comment"># 过滤出1~100中平方根是整数的数： </span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_sqr</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> math.sqrt(x) % <span class="number">1</span> == <span class="number">0</span></span><br><span class="line"> </span><br><span class="line">newlist = filter(is_sqr, range(<span class="number">1</span>, <span class="number">101</span>))</span><br><span class="line">print(newlist)</span><br></pre></td></tr></table></figure><h6 id="Output-1"><a href="#Output-1" class="headerlink" title="Output:"></a>Output:</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux用户权限</title>
      <link href="/2018/02/06/Linux%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90/"/>
      <url>/2018/02/06/Linux%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h3><h5 id="useradd"><a href="#useradd" class="headerlink" title="useradd"></a>useradd</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useradd -r -m -s /bin/bash vallzey</span><br><span class="line">passwd spark</span><br><span class="line">chmod +w /etc/sudoers</span><br></pre></td></tr></table></figure><h5 id="查看目录或文件权限"><a href="#查看目录或文件权限" class="headerlink" title="查看目录或文件权限"></a>查看目录或文件权限</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getfacl 目录或文件</span><br></pre></td></tr></table></figure><h5 id="设置目录或文件权限"><a href="#设置目录或文件权限" class="headerlink" title="设置目录或文件权限"></a>设置目录或文件权限</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo setfacl -m user:vallzey:rwx <span class="built_in">test</span></span><br></pre></td></tr></table></figure><h5 id="chown"><a href="#chown" class="headerlink" title="chown"></a>chown</h5><blockquote><p>利用 chown命令 可以将文件的拥有者加以改变。</p></blockquote><ul><li>-R处理指定目录以及其子目录下的所有文件</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo chown &quot;$USER&quot;:&quot;$USER&quot; /home/&quot;$USER&quot;/.docker -R</span><br><span class="line">sudo chmod g+rwx &quot;$HOME/.docker&quot; -R</span><br></pre></td></tr></table></figure><h5 id="创建一个用户组"><a href="#创建一个用户组" class="headerlink" title="创建一个用户组"></a>创建一个用户组</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo groupadd docker</span><br></pre></td></tr></table></figure><h5 id="添加一个用户在到存在的用户组中"><a href="#添加一个用户在到存在的用户组中" class="headerlink" title="添加一个用户在到存在的用户组中"></a>添加一个用户在到存在的用户组中</h5><blockquote><p>生效需要注销重新登录</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -aG docker <span class="variable">$USER</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 系统命令 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 系统命令 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>管理github的star项目</title>
      <link href="/2018/02/04/%E7%AE%A1%E7%90%86github%E7%9A%84star%E9%A1%B9%E7%9B%AE/"/>
      <url>/2018/02/04/%E7%AE%A1%E7%90%86github%E7%9A%84star%E9%A1%B9%E7%9B%AE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Github-management"><a href="#Github-management" class="headerlink" title="Github management"></a>Github management</h1><blockquote><p>[<a href="../../../../README.md">返回</a>]</p></blockquote><hr><h2 id="不想工作"><a href="#不想工作" class="headerlink" title="不想工作"></a>不想工作</h2><ul><li><p>[<a href="https://github.com/PPshrimpGo/AIinterview" target="_blank" rel="noopener">AIinterview</a>]</p><blockquote><p>算法工程师面试题整理</p></blockquote></li><li><p>[<a href="https://github.com/monklof/Back-End-Developer-Interview-Questions" target="_blank" rel="noopener">Back-End-Developer-Interview-Questions</a>]</p><blockquote><p>后端开发面试题。</p></blockquote></li><li><p>[<a href="https://github.com/xingshaocheng/architect-awesome" target="_blank" rel="noopener">architect-awesome</a>]</p><blockquote><p>后端架构师技术图谱</p></blockquote></li><li><p>[<a href="https://github.com/crossoverJie/JCSprout" target="_blank" rel="noopener">JCSprout</a>]</p><blockquote><p>处于萌芽阶段的 Java 核心知识库。</p></blockquote></li><li><p>[<a href="https://github.com/Blankj/awesome-java-leetcode" target="_blank" rel="noopener">awesome-java-leetcode</a>]</p><blockquote><p>用Java解决方案的LeetCode算法（更新）。</p></blockquote></li><li><p>[<a href="https://github.com/crossoverJie/SSM" target="_blank" rel="noopener">SSM</a>]</p><blockquote><p>从0开始分布式微服务构建SSM。</p></blockquote></li><li><p>[<a href="https://github.com/CL0610/Java-concurrency" target="_blank" rel="noopener">Java-concurrency</a>]</p><blockquote><p>Java并发知识点总结</p></blockquote></li><li><p>[<a href="https://github.com/CyC2018/CS-Notes" target="_blank" rel="noopener">CS-Notes</a>]</p><blockquote><p>技术面试必备基础知识、Leetcode 题解、后端面试、Java 面试、春招、秋招、操作系统、计算机网络、系统设计</p></blockquote></li><li><p>[<a href="https://github.com/imhuay/Algorithm_Interview_Notes-Chinese" target="_blank" rel="noopener">Algorithm_Interview_Notes-Chinese</a>]</p><blockquote><p>2018/2019/校招/春招/秋招/算法/机器学习(Machine Learning)/深度学习(Deep Learning)/自然语言处理(NLP)/C/C++/Python/面试笔记</p></blockquote></li></ul><hr><h2 id="没事别学习"><a href="#没事别学习" class="headerlink" title="没事别学习"></a>没事别学习</h2><ul><li><p>[<a href="https://github.com/jaungiers/LSTM-Neural-Network-for-Time-Series-Prediction" target="_blank" rel="noopener">LSTM-Neural-Network-for-Time-Series-Prediction</a>]</p><blockquote><p>LSTM使用Keras Python包构建，以预测时间序列步骤和序列。包括sin wave和股市数据。</p></blockquote></li><li><p>[<a href="https://github.com/yeasy/docker_practice" target="_blank" rel="noopener">docker_practice</a>]</p><blockquote><p>Docker — 从入门到实践</p></blockquote></li><li><p>[<a href="https://github.com/taki0112/Tensorflow-Cookbook" target="_blank" rel="noopener">Tensorflow-Cookbook</a>]</p><blockquote><p>简单的Tensorflow Cookbook易于使用教程</p></blockquote></li><li><p>[<a href="https://github.com/kmario23/deep-learning-drizzle" target="_blank" rel="noopener">deep-learning-drizzle</a>]</p><blockquote><p>通过学习这些激动人心的讲座，深入学习深度学习，强化学习，机器学习，计算机视觉和NLP！</p></blockquote></li><li><p>[<a href="https://github.com/24OI/OI-wiki" target="_blank" rel="noopener">OI-wiki</a>]</p><blockquote><p>OI Wiki 致力于成为一个免费开放且持续更新的知识整合站点，大家可以在这里获取关于 编程竞赛 (competitive programming) 有趣又实用的知识，我们为大家准备了竞赛中的基础知识、常见题型、解题思路以及常用工具等内容，帮助大家更快速深入地学习编程竞赛。</p></blockquote></li><li><p>[<a href="https://github.com/dyc87112/SpringBoot-Learning" target="_blank" rel="noopener">SpringBoot-Learning</a>]</p><blockquote><p>Spring Boot基础教程，Spring Boot 2.x版本连载中！！</p></blockquote></li><li><p>[<a href="https://github.com/tensorflow/models" target="_blank" rel="noopener">models</a>]</p><blockquote><p>使用TensorFlow构建的模型和示例</p></blockquote></li><li><p>[<a href="https://github.com/jikexueyuanwiki/tensorflow-zh" target="_blank" rel="noopener">tensorflow-zh</a>]</p><blockquote><p>谷歌全新开源人工智能系统TensorFlow官方文档中文版</p></blockquote></li><li><p>[<a href="https://github.com/cfenollosa/os-tutorial" target="_blank" rel="noopener">os-tutorial</a>]</p><blockquote><p>如何从头开始创建操作系统！</p></blockquote></li><li><p>[<a href="https://github.com/openai/finetune-transformer-lm" target="_blank" rel="noopener">finetune-transformer-lm</a>]</p><blockquote><p>Code and model for the paper “Improving Language Understanding by Generative Pre-Training”</p></blockquote></li><li><p>[<a href="https://github.com/xiaojunxu/SQLNet" target="_blank" rel="noopener">SQLNet</a>]</p><blockquote><p>用于从自然语言生成结构化查询的神经网络。</p></blockquote></li><li><p>[<a href="https://github.com/daicoolb/RecommenderSystem-Paper" target="_blank" rel="noopener">RecommenderSystem-Paper</a>]</p><blockquote><p>推荐系统中使用的论文，工具和框架。</p></blockquote></li><li><p>[<a href="https://github.com/google-research/bert" target="_blank" rel="noopener">bert</a>]</p><blockquote><p>TensorFlow代码和预先训练的BERT模型</p></blockquote></li><li><p>[<a href="https://github.com/adam-golab/react-developer-roadmap" target="_blank" rel="noopener">react-developer-roadmap</a>]</p><blockquote><p>成为2019年React开发人员的路线图</p></blockquote></li><li><p>[<a href="https://github.com/aaalgo/kgraph" target="_blank" rel="noopener">kgraph</a>]</p><blockquote><p>A library for k-nearest neighbor search</p></blockquote></li><li><p>[<a href="https://github.com/MorvanZhou/Tensorflow-Tutorial" target="_blank" rel="noopener">Tensorflow-Tutorial</a>]</p><blockquote><p>在这些教程中，我们将构建我们的第一个神经网络，并尝试构建一些近年来开发的高级神经网络架构。</p></blockquote></li><li><p>[<a href="https://github.com/pawl/awesome-etl" target="_blank" rel="noopener">awesome-etl</a>]</p><blockquote><p>精选的ETL（提取，转换，加载）框架，库和软件的精选列表。</p></blockquote></li></ul><hr><h2 id="无聊的项目"><a href="#无聊的项目" class="headerlink" title="无聊的项目"></a>无聊的项目</h2><ul><li><p>[<a href="https://github.com/NVlabs/SPADE" target="_blank" rel="noopener">SPADE</a>] </p><blockquote><p>英伟达（NVIDIA）新开源的绘图工具。利用生成对抗网络，根据几根简单的线条就能生成栩栩如生的图像。</p></blockquote><blockquote><p><img src="fig/SPADE.gif" alt="SPADE"></p></blockquote></li><li><p>[<a href="https://github.com/binhnguyennus/awesome-scalability" target="_blank" rel="noopener">awesome-scalability</a>]</p><blockquote><p>一个系统的阅读列表，描述了可扩展、高可用、高性能的大型系统背后的东西。每部分都是基于真实案例，讲述了如何搭建一个可扩展、高可用、高性能的大型系统，案例都是来自于经过数百万甚至数十亿用户实战检验的系统。对于所有工程师而言都是一个很好的学习资料，开卷有益。</p></blockquote></li><li><p>[<a href="https://github.com/wsargent/docker-cheat-sheet" target="_blank" rel="noopener">docker-cheat-sheet</a>]</p><blockquote><p>关于Docker详细的备忘单。</p></blockquote></li><li><p>[<a href="https://github.com/netdata/netdata" target="_blank" rel="noopener">netdata</a>]</p><blockquote><p>Netdata是系统和应用程序的分布式，实时，性能和健康监控。它是您在所有系统和容器上安装的高度优化的监视代理程序。</p></blockquote></li><li><p>[<a href="https://github.com/zhaoolee/ChromeAppHeroes" target="_blank" rel="noopener">ChromeAppHeroes</a>]</p><blockquote><p>谷粒-Chrome插件英雄榜, 为优秀的Chrome插件写一本中文说明书, 让Chrome插件英雄们造福人类~</p></blockquote></li><li><p>[<a href="https://github.com/easychen/howto-make-more-money" target="_blank" rel="noopener">howto-make-more-money</a>]</p><blockquote><p>程序员如何优雅的挣零花钱？</p></blockquote></li><li><p>[<a href="https://github.com/CriseLYJ/awesome-python-login-model" target="_blank" rel="noopener">awesome-python-login-model</a>]</p><blockquote><p>python模拟登陆一些大型网站，还有一些简单的爬虫。</p></blockquote></li><li><p>[<a href="https://github.com/ryanoasis/nerd-fonts" target="_blank" rel="noopener">nerd-fonts</a>]</p><blockquote><p>标志性的字体聚合器，集合和修补程序。 40多个修补字体，超过3,600个字形/图标，包括流行的集合，如Font Awesome和Hack等字体</p></blockquote></li><li><p>[<a href="https://github.com/h5bp/html5-boilerplate" target="_blank" rel="noopener">html5-boilerplate</a>]</p><blockquote><p>HTML5 Boilerplate是一个专业的前端模板，用于构建快速，健壮且适应性强的Web应用程序或站点。 该项目是多年迭代开发和社区知识的产物。它没有强加特定的开发理念或框架，因此您可以自由地以您想要的方式构建代码。</p></blockquote></li><li><p>[<a href="https://github.com/Jack-Cherish/python-spider" target="_blank" rel="noopener">python-spider</a>]</p><blockquote><p>Python3网络爬虫实战：VIP视频破解助手；GEETEST验证码破解；小说、动漫下载；手机APP爬取；财务报表入库；火车票抢票；抖音APP视频下载；百万英雄辅助；网易云音乐下载；B站视频和弹幕下载</p></blockquote></li><li><p>[<a href="https://github.com/zmrenwu/django-blog-tutorial" target="_blank" rel="noopener">django-blog-tutorial</a>]</p><blockquote><p>免费、中文、零基础，完整的项目，基于最新版 Django 1.10 和 Python 3.5。带你从零开始一步步开发属于自己的博客网站，帮助你以最快的速度掌握 Django 开发的技巧。</p></blockquote></li><li><p>[<a href="https://github.com/horst3180/arc-theme" target="_blank" rel="noopener">arc-theme</a>]</p><blockquote><p>Arc是一个平面主题，具有透明元素，适用于GTK 3，GTK 2和GNOME Shell，支持基于GTK 3和GTK 2的桌面环境，如GNOME，Unity，Budgie，Pantheon，Xfce，MATE等。(Ubuntu)</p></blockquote><blockquote><p><img src="fig/arc_theme.png" alt="SPADE"></p></blockquote></li><li><p>[<a href="[test](https://github.com/vipshop/vjtools)">vjtools</a>]</p><blockquote><p>vip.com的java编码标准，库和工具</p></blockquote></li><li><p>[<a href="https://github.com/jaywcjlove/awesome-mac/blob/master/README-zh.md" target="_blank" rel="noopener">awesome-mac</a>]</p><blockquote><p>收集各种类别非常好用的 Mac 应用程序、软件以及工具。</p></blockquote></li></ul><ul><li>[<a href="https://github.com/halo-dev/halo" target="_blank" rel="noopener">halo</a>]<blockquote><p>Halo 可能是最好的 Java 博客系统</p></blockquote></li></ul><ul><li><p>[<a href="https://github.com/wszqkzqk/deepin-wine-ubuntu" target="_blank" rel="noopener">deepin-wine-ubuntu</a>]</p><blockquote><p>Deepin-wine 环境的 Ubuntu 移植版(可以安装QQ，TIM，百度云)</p></blockquote></li><li><p>[<a href="https://github.com/balancap/SSD-Tensorflow" target="_blank" rel="noopener">SSD-Tensorflow</a>]</p><blockquote><p>TensorFlow中的单发多盒检测器</p></blockquote></li><li><p>[<a href="https://github.com/blaze/odo" target="_blank" rel="noopener">odo</a>]</p><blockquote><p>Odo migrates data between different containers</p></blockquote></li><li><p>[<a href="https://github.com/blaze/blaze" target="_blank" rel="noopener">blaze</a>]</p><blockquote><p>Blaze将修改后的NumPy和Pandas类语法的子集转换为数据库和其他计算系统。 Blaze允许Python用户使用熟悉的界面来查询其他数据存储系统中的数据。</p></blockquote></li></ul><hr><h2 id="没有什么用的工具"><a href="#没有什么用的工具" class="headerlink" title="没有什么用的工具"></a>没有什么用的工具</h2><ul><li><p>[<a href="https://github.com/my8100/scrapydweb/blob/master/README_CN.md" target="_blank" rel="noopener">scrapydweb</a>]</p><blockquote><p>ScrapydWeb：用于 Scrapyd 集群管理的web应用，支持 Scrapy 日志分析和可视化。</p></blockquote></li><li><p>[<a href="https://github.com/drone/drone" target="_blank" rel="noopener">drone</a>]</p><blockquote><p>Drone是一个面向繁忙开发团队的自助式持续交付平台。</p></blockquote></li><li><p>[<a href="https://github.com/unbug/codelf" target="_blank" rel="noopener">codelf</a>]</p><blockquote><p>搜索来自Github，Bitbucket，Google Code，Codeplex，Sourceforge，Fedora Project，GitLab的项目，以查找真实世界的用法变量名称(现在不能用)。</p></blockquote></li><li><p>[<a href="https://github.com/looly/hutool" target="_blank" rel="noopener">hutool</a>]</p><blockquote><p>Hutool是一个Java工具包，也只是一个工具包，它帮助我们简化每一行代码，减少每一个方法，让Java语言也可以“甜甜的”。Hutool最初是我项目中“util”包的一个整理，后来慢慢积累并加入更多非业务相关功能，并广泛学习其它开源项目精髓，经过自己整理修改，最终形成丰富的开源工具集。</p></blockquote></li><li><p>[<a href="https://github.com/LinShunKang/MyPerf4J" target="_blank" rel="noopener">MyPerf4J</a>]</p><blockquote><p>一个针对高并发、低延迟应用设计的高性能 Java 性能监控和统计工具。</p></blockquote><blockquote><p><img src="fig/MyPerf4J.gif" alt="MyPerf4J"></p></blockquote></li><li><p>[<a href="https://github.com/dreamhead/moco" target="_blank" rel="noopener">moco</a>]</p><blockquote><p>Moco是一个简单的安装存根框架。</p></blockquote></li><li><p>[<a href="https://github.com/oldmanpushcart/greys-anatomy" target="_blank" rel="noopener">greys-anatomy</a>]</p><blockquote><p>线上系统为何经常出错？数据库为何屡遭黑手？业务调用为何频频失败？连环异常堆栈案，究竟是哪次调用所为？ 数百台服务器意外雪崩背后又隐藏着什么？是软件的扭曲还是硬件的沦丧？ 走进科学带你了解Greys, Java线上问题诊断工具。</p></blockquote></li><li><p>[<a href="https://github.com/filebrowser/filebrowser" target="_blank" rel="noopener">filebrowser</a>]</p><blockquote><p>Web文件浏览器，可用作中间件或独立应用程序。</p></blockquote></li><li><p>[<a href="https://github.com/cosven/FeelUOwn" target="_blank" rel="noopener">FeelUOwn</a>]</p><blockquote><p>FeelUOwn 是一个符合 Unix 哲学的跨平台的音乐播放器，主要面向 Linux/macOS 用户。</p></blockquote><blockquote><p><img src="fig/FeelUOwn.png" alt="FeelUOwn"></p></blockquote></li><li><p>[<a href="https://github.com/cloudera/hue" target="_blank" rel="noopener">hue</a>]</p><blockquote><p>Hue是一个开源SQL Workbench，用于在云/本地数据仓库中浏览，查询和可视化数据：gethue.com</p></blockquote></li></ul><ul><li><p>[<a href="https://github.com/jesseduffield/lazygit" target="_blank" rel="noopener">lazygit</a>]</p><blockquote><p>git命令的简单终端UI</p></blockquote></li><li><p>[<a href="https://github.com/worldveil/dejavu" target="_blank" rel="noopener">dejavu</a>]</p><blockquote><p>Dejavu可以通过聆听音频并对其进行指纹识别来记忆音频。然后，通过播放歌曲和录制麦克风输入，Dejavu尝试将音频与数据库中保存的指纹进行匹配，然后返回正在播放的歌曲。</p></blockquote></li><li><p>[<a href="https://github.com/b3log/baidu-netdisk-downloaderx" target="_blank" rel="noopener">baidu-netdisk-downloaderx</a>]</p><blockquote><p>百度网盘不限速下载器 BND，支持 Windows、Mac 和 Linux。</p></blockquote></li><li><p>[<a href="https://github.com/BoostIO/Boostnote" target="_blank" rel="noopener">Boostnote</a>]</p><blockquote><p>适用于Mac，Windows和Linux的开发人员的markdown编辑器</p></blockquote></li></ul><hr><h2 id="看不懂的操作"><a href="#看不懂的操作" class="headerlink" title="看不懂的操作"></a>看不懂的操作</h2><ul><li><p>[<a href="https://github.com/laskfla/BuildOpenJDK9-on-Mojave" target="_blank" rel="noopener">BuildOpenJDK9-on-Mojave</a>]</p><blockquote><p>从源代码在Mac Mojave（10.14.1）上构建OpenJDK9(在10.13上面也可以)。</p></blockquote></li><li><p>[<a href="https://github.com/ruanyf/document-style-guide" target="_blank" rel="noopener">document-style-guide</a>]</p><blockquote><p>中文技术文档的写作规范</p></blockquote></li><li><p>[<a href="https://github.com/shieldfy/API-Security-Checklist/blob/master/README-zh.md" target="_blank" rel="noopener">API-Security-Checklist</a>]</p><blockquote><p>开发安全的 API 所需要核对的清单</p></blockquote></li><li><p>[<a href="https://github.com/knightliao/disconf" target="_blank" rel="noopener">disconf</a>]</p><blockquote><p>Distributed Configuration Management Platform(分布式配置管理平台)<br>专注于各种「分布式系统配置管理」的「通用组件」和「通用平台」, 提供统一的「配置管理服务」</p></blockquote></li></ul><hr><h2 id="books"><a href="#books" class="headerlink" title="books"></a>books</h2><ul><li><p>[<a href="https://github.com/ruanyf/es6tutorial" target="_blank" rel="noopener">es6tutorial</a>]</p><blockquote><p>《ECMAScript 6 入门》是一本开源的 JavaScript 语言教程，全面介绍 ECMAScript 6 新引入的语法特性。</p></blockquote><blockquote><p> <img src="fig/es6tutorial.jpg" alt="es6tutorial"></p></blockquote></li><li><p>[<a href="https://github.com/fengdu78/deeplearning_ai_books" target="_blank" rel="noopener">deeplearning_ai_books</a>]</p><blockquote><p>deeplearning.ai（吴恩达老师的深度学习课程笔记及资源）</p></blockquote></li><li><p>[<a href="https://github.com/oldratlee/translations" target="_blank" rel="noopener">translations</a>]</p><blockquote><p>一些不错英文资料的中文翻译。</p></blockquote></li><li><p>[<a href="https://github.com/selfteaching/the-craft-of-selfteaching" target="_blank" rel="noopener">the-craft-of-selfteaching</a>]</p><blockquote><p>没有自学能力的人没有未来。</p></blockquote></li><li><p>[<a href="https://github.com/sohutv/cachecloud" target="_blank" rel="noopener">cachecloud</a>]</p><blockquote><p>CacheCloud团队于2017年3月出版实体书《Redis开发与运维》</p></blockquote></li><li><p>[<a href="https://github.com/d2l-ai/d2l-zh" target="_blank" rel="noopener">d2l-zh</a>]</p><blockquote><p>《动手学深度学习》，英文版即伯克利深度学习（STAT 157，2019春）教材。面向中文读者、能运行、可讨论。</p></blockquote></li><li><p>[<a href="https://github.com/antirez/redis" target="_blank" rel="noopener">redis</a>]</p><blockquote><p>本自述文件只是一个快速入门的快速文档。您可以在redis.io上找到更详细的文档。</p></blockquote></li></ul><hr><h2 id="papers"><a href="#papers" class="headerlink" title="papers"></a>papers</h2><ul><li><p>[<a href="https://github.com/robi56/Deep-Learning-for-Recommendation-Systems" target="_blank" rel="noopener">Deep-Learning-for-Recommendation-Systems</a>]</p><blockquote><p>此存储库包含基于深度学习的文章，推荐系统的纸张和存储库</p></blockquote></li><li><p>[<a href="https://github.com/fengdu78/Coursera-ML-AndrewNg-Notes" target="_blank" rel="noopener">Coursera-ML-AndrewNg-Notes</a>]</p><blockquote><p>吴恩达老师的机器学习课程个人笔记</p></blockquote></li><li><p>[<a href="https://github.com/thunlp/GNNPapers" target="_blank" rel="noopener">GNNPapers</a>]</p><blockquote><p>必读的GNN论文。</p></blockquote></li><li><p>[<a href="https://github.com/ZJULearning/time_lstm" target="_blank" rel="noopener">time_lstm</a>]</p><blockquote><p>This project is the implementation of the paper “What to Do Next: Modeling User Behaviors by Time-LSTM”.</p></blockquote></li></ul><hr>]]></content>
      
      
      <categories>
          
          <category> 开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
